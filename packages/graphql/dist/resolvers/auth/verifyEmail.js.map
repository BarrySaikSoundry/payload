{"version":3,"sources":["../../../src/resolvers/auth/verifyEmail.ts"],"sourcesContent":["import type { Collection } from 'payload'\n\nimport { isolateObjectProperty, verifyEmailOperation } from 'payload'\n\nimport type { Context } from '../types.js'\n\nfunction verifyEmailResolver(collection: Collection) {\n  async function resolver(_, args, context: Context) {\n    if (args.locale) context.req.locale = args.locale\n    if (args.fallbackLocale) context.req.fallbackLocale = args.fallbackLocale\n\n    const options = {\n      api: 'GraphQL',\n      collection,\n      req: isolateObjectProperty(context.req, 'transactionID'),\n      token: args.token,\n    }\n\n    const success = await verifyEmailOperation(options)\n    return success\n  }\n\n  return resolver\n}\n\nexport default verifyEmailResolver\n"],"names":["isolateObjectProperty","verifyEmailOperation","verifyEmailResolver","collection","resolver","_","args","context","locale","req","fallbackLocale","options","api","token","success"],"mappings":"AAEA,SAASA,qBAAqB,EAAEC,oBAAoB,QAAQ,UAAS;AAIrE,SAASC,oBAAoBC,UAAsB;IACjD,eAAeC,SAASC,CAAC,EAAEC,IAAI,EAAEC,OAAgB;QAC/C,IAAID,KAAKE,MAAM,EAAED,QAAQE,GAAG,CAACD,MAAM,GAAGF,KAAKE,MAAM;QACjD,IAAIF,KAAKI,cAAc,EAAEH,QAAQE,GAAG,CAACC,cAAc,GAAGJ,KAAKI,cAAc;QAEzE,MAAMC,UAAU;YACdC,KAAK;YACLT;YACAM,KAAKT,sBAAsBO,QAAQE,GAAG,EAAE;YACxCI,OAAOP,KAAKO,KAAK;QACnB;QAEA,MAAMC,UAAU,MAAMb,qBAAqBU;QAC3C,OAAOG;IACT;IAEA,OAAOV;AACT;AAEA,eAAeF,oBAAmB"}