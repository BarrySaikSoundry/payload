{"version":3,"sources":["../../../src/resolvers/globals/findOne.ts"],"sourcesContent":["import type { Document, SanitizedGlobalConfig } from 'payload'\n\nimport { findOneOperation, isolateObjectProperty } from 'payload'\n\nimport type { Context } from '../types.js'\n\nexport default function findOneResolver(globalConfig: SanitizedGlobalConfig): Document {\n  return async function resolver(_, args, context: Context) {\n    if (args.locale) context.req.locale = args.locale\n    if (args.fallbackLocale) context.req.fallbackLocale = args.fallbackLocale\n\n    const { slug } = globalConfig\n\n    const options = {\n      slug,\n      depth: 0,\n      draft: args.draft,\n      globalConfig,\n      req: isolateObjectProperty(context.req, 'transactionID'),\n    }\n\n    const result = await findOneOperation(options)\n    return result\n  }\n}\n"],"names":["findOneOperation","isolateObjectProperty","findOneResolver","globalConfig","resolver","_","args","context","locale","req","fallbackLocale","slug","options","depth","draft","result"],"mappings":"AAEA,SAASA,gBAAgB,EAAEC,qBAAqB,QAAQ,UAAS;AAIjE,eAAe,SAASC,gBAAgBC,YAAmC;IACzE,OAAO,eAAeC,SAASC,CAAC,EAAEC,IAAI,EAAEC,OAAgB;QACtD,IAAID,KAAKE,MAAM,EAAED,QAAQE,GAAG,CAACD,MAAM,GAAGF,KAAKE,MAAM;QACjD,IAAIF,KAAKI,cAAc,EAAEH,QAAQE,GAAG,CAACC,cAAc,GAAGJ,KAAKI,cAAc;QAEzE,MAAM,EAAEC,IAAI,EAAE,GAAGR;QAEjB,MAAMS,UAAU;YACdD;YACAE,OAAO;YACPC,OAAOR,KAAKQ,KAAK;YACjBX;YACAM,KAAKR,sBAAsBM,QAAQE,GAAG,EAAE;QAC1C;QAEA,MAAMM,SAAS,MAAMf,iBAAiBY;QACtC,OAAOG;IACT;AACF"}