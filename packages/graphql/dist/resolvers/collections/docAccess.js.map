{"version":3,"sources":["../../../src/resolvers/collections/docAccess.ts"],"sourcesContent":["import type { Collection, CollectionPermission, GlobalPermission, PayloadRequest } from 'payload'\n\nimport { docAccessOperation, isolateObjectProperty } from 'payload'\n\nimport type { Context } from '../types.js'\n\nexport type Resolver = (\n  _: unknown,\n  args: {\n    id: number | string\n  },\n  context: {\n    req: PayloadRequest\n  },\n) => Promise<CollectionPermission | GlobalPermission>\n\nexport function docAccessResolver(collection: Collection): Resolver {\n  async function resolver(_, args, context: Context) {\n    return docAccessOperation({\n      id: args.id,\n      collection,\n      req: isolateObjectProperty(context.req, 'transactionID'),\n    })\n  }\n\n  return resolver\n}\n"],"names":["docAccessOperation","isolateObjectProperty","docAccessResolver","collection","resolver","_","args","context","id","req"],"mappings":"AAEA,SAASA,kBAAkB,EAAEC,qBAAqB,QAAQ,UAAS;AAcnE,OAAO,SAASC,kBAAkBC,UAAsB;IACtD,eAAeC,SAASC,CAAC,EAAEC,IAAI,EAAEC,OAAgB;QAC/C,OAAOP,mBAAmB;YACxBQ,IAAIF,KAAKE,EAAE;YACXL;YACAM,KAAKR,sBAAsBM,QAAQE,GAAG,EAAE;QAC1C;IACF;IAEA,OAAOL;AACT"}