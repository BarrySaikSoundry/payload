{"version":3,"sources":["../../../src/resolvers/collections/restoreVersion.ts"],"sourcesContent":["import type { Collection, PayloadRequest } from 'payload'\n\nimport { isolateObjectProperty, restoreVersionOperation } from 'payload'\n\nimport type { Context } from '../types.js'\n\nexport type Resolver = (\n  _: unknown,\n  args: {\n    id: number | string\n  },\n  context: {\n    req: PayloadRequest\n  },\n) => Promise<Document>\n\nexport default function restoreVersionResolver(collection: Collection): Resolver {\n  async function resolver(_, args, context: Context) {\n    const options = {\n      id: args.id,\n      collection,\n      depth: 0,\n      req: isolateObjectProperty(context.req, 'transactionID'),\n    }\n\n    const result = await restoreVersionOperation(options)\n    return result\n  }\n\n  return resolver\n}\n"],"names":["isolateObjectProperty","restoreVersionOperation","restoreVersionResolver","collection","resolver","_","args","context","options","id","depth","req","result"],"mappings":"AAEA,SAASA,qBAAqB,EAAEC,uBAAuB,QAAQ,UAAS;AAcxE,eAAe,SAASC,uBAAuBC,UAAsB;IACnE,eAAeC,SAASC,CAAC,EAAEC,IAAI,EAAEC,OAAgB;QAC/C,MAAMC,UAAU;YACdC,IAAIH,KAAKG,EAAE;YACXN;YACAO,OAAO;YACPC,KAAKX,sBAAsBO,QAAQI,GAAG,EAAE;QAC1C;QAEA,MAAMC,SAAS,MAAMX,wBAAwBO;QAC7C,OAAOI;IACT;IAEA,OAAOR;AACT"}