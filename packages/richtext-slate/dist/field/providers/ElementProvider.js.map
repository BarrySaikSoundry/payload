{"version":3,"sources":["../../../src/field/providers/ElementProvider.tsx"],"sourcesContent":["'use client'\nimport type { FormFieldBase } from '@payloadcms/ui'\nimport type { Element } from 'slate'\n\nimport React from 'react'\n\ntype ElementContextType<T> = {\n  attributes: Record<string, unknown>\n  children: React.ReactNode\n  editorRef: React.MutableRefObject<HTMLDivElement>\n  element: T\n  fieldProps: {\n    name: string\n    richTextComponentMap: Map<string, React.ReactNode>\n  } & FormFieldBase\n  path: string\n  schemaPath: string\n}\n\nconst ElementContext = React.createContext<ElementContextType<Element>>({\n  attributes: {},\n  children: null,\n  editorRef: null,\n  element: {} as Element,\n  fieldProps: {} as any,\n  path: '',\n  schemaPath: '',\n})\n\nexport const ElementProvider: React.FC<\n  {\n    childNodes: React.ReactNode\n  } & ElementContextType<Element>\n> = (props) => {\n  const { childNodes, children, ...rest } = props\n\n  return (\n    <ElementContext.Provider\n      value={{\n        ...rest,\n        children: childNodes,\n      }}\n    >\n      {children}\n    </ElementContext.Provider>\n  )\n}\n\nexport const useElement = <T,>(): ElementContextType<T> => {\n  return React.useContext(ElementContext) as ElementContextType<T>\n}\n"],"names":["React","ElementContext","createContext","attributes","children","editorRef","element","fieldProps","path","schemaPath","ElementProvider","props","childNodes","rest","Provider","value","useElement","useContext"],"mappings":"AAAA;;AAIA,OAAOA,WAAW,QAAO;AAezB,MAAMC,+BAAiBD,MAAME,aAAa,CAA8B;IACtEC,YAAY,CAAC;IACbC,UAAU;IACVC,WAAW;IACXC,SAAS,CAAC;IACVC,YAAY,CAAC;IACbC,MAAM;IACNC,YAAY;AACd;AAEA,OAAO,MAAMC,kBAIT,CAACC;IACH,MAAM,EAAEC,UAAU,EAAER,QAAQ,EAAE,GAAGS,MAAM,GAAGF;IAE1C,qBACE,KAACV,eAAea,QAAQ;QACtBC,OAAO;YACL,GAAGF,IAAI;YACPT,UAAUQ;QACZ;kBAECR;;AAGP,EAAC;AAED,OAAO,MAAMY,aAAa;IACxB,OAAOhB,MAAMiB,UAAU,CAAChB;AAC1B,EAAC"}