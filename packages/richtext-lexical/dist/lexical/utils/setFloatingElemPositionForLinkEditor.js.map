{"version":3,"sources":["../../../src/lexical/utils/setFloatingElemPositionForLinkEditor.ts"],"sourcesContent":["const VERTICAL_GAP = 10\nconst HORIZONTAL_OFFSET = 5\n\nexport function setFloatingElemPositionForLinkEditor(\n  targetRect: DOMRect | null,\n  floatingElem: HTMLElement,\n  anchorElem: HTMLElement,\n  verticalGap: number = VERTICAL_GAP,\n  horizontalOffset: number = HORIZONTAL_OFFSET,\n): void {\n  const scrollerElem = anchorElem.parentElement\n\n  if (targetRect === null || scrollerElem == null) {\n    floatingElem.style.opacity = '0'\n    floatingElem.style.transform = 'translate(-10000px, -10000px)'\n    return\n  }\n\n  const floatingElemRect = floatingElem.getBoundingClientRect()\n  const anchorElementRect = anchorElem.getBoundingClientRect()\n  const editorScrollerRect = scrollerElem.getBoundingClientRect()\n\n  let top = targetRect.top - verticalGap\n  let left = targetRect.left - horizontalOffset\n\n  if (top < editorScrollerRect.top) {\n    top += floatingElemRect.height + targetRect.height + verticalGap * 2\n  }\n\n  if (left + floatingElemRect.width > editorScrollerRect.right) {\n    left = editorScrollerRect.right - floatingElemRect.width - horizontalOffset\n  }\n\n  top -= anchorElementRect.top\n  left -= anchorElementRect.left\n\n  floatingElem.style.opacity = '1'\n  floatingElem.style.transform = `translate(${left}px, ${top}px)`\n}\n"],"names":["VERTICAL_GAP","HORIZONTAL_OFFSET","setFloatingElemPositionForLinkEditor","targetRect","floatingElem","anchorElem","verticalGap","horizontalOffset","scrollerElem","parentElement","style","opacity","transform","floatingElemRect","getBoundingClientRect","anchorElementRect","editorScrollerRect","top","left","height","width","right"],"mappings":"AAAA,MAAMA,eAAe;AACrB,MAAMC,oBAAoB;AAE1B,OAAO,SAASC,qCACdC,UAA0B,EAC1BC,YAAyB,EACzBC,UAAuB,EACvBC,cAAsBN,YAAY,EAClCO,mBAA2BN,iBAAiB;IAE5C,MAAMO,eAAeH,WAAWI,aAAa;IAE7C,IAAIN,eAAe,QAAQK,gBAAgB,MAAM;QAC/CJ,aAAaM,KAAK,CAACC,OAAO,GAAG;QAC7BP,aAAaM,KAAK,CAACE,SAAS,GAAG;QAC/B;IACF;IAEA,MAAMC,mBAAmBT,aAAaU,qBAAqB;IAC3D,MAAMC,oBAAoBV,WAAWS,qBAAqB;IAC1D,MAAME,qBAAqBR,aAAaM,qBAAqB;IAE7D,IAAIG,MAAMd,WAAWc,GAAG,GAAGX;IAC3B,IAAIY,OAAOf,WAAWe,IAAI,GAAGX;IAE7B,IAAIU,MAAMD,mBAAmBC,GAAG,EAAE;QAChCA,OAAOJ,iBAAiBM,MAAM,GAAGhB,WAAWgB,MAAM,GAAGb,cAAc;IACrE;IAEA,IAAIY,OAAOL,iBAAiBO,KAAK,GAAGJ,mBAAmBK,KAAK,EAAE;QAC5DH,OAAOF,mBAAmBK,KAAK,GAAGR,iBAAiBO,KAAK,GAAGb;IAC7D;IAEAU,OAAOF,kBAAkBE,GAAG;IAC5BC,QAAQH,kBAAkBG,IAAI;IAE9Bd,aAAaM,KAAK,CAACC,OAAO,GAAG;IAC7BP,aAAaM,KAAK,CAACE,SAAS,GAAG,CAAC,UAAU,EAAEM,KAAK,IAAI,EAAED,IAAI,GAAG,CAAC;AACjE"}