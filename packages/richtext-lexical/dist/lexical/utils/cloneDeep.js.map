{"version":3,"sources":["../../../src/lexical/utils/cloneDeep.ts"],"sourcesContent":["export function cloneDeep<T>(object: T, cache: WeakMap<any, any> = new WeakMap()): T {\n  if (object === null) return null\n\n  if (cache.has(object)) {\n    return cache.get(object)\n  }\n\n  // Handle Date\n  if (object instanceof Date) {\n    return new Date(object.getTime()) as unknown as T\n  }\n\n  // Handle RegExp\n  if (object instanceof RegExp) {\n    return new RegExp(object.source, object.flags) as unknown as T\n  }\n\n  // Handle Map\n  if (object instanceof Map) {\n    const clonedMap = new Map()\n    cache.set(object, clonedMap)\n    for (const [key, value] of object.entries()) {\n      clonedMap.set(key, cloneDeep(value, cache))\n    }\n    return clonedMap as unknown as T\n  }\n\n  // Handle Set\n  if (object instanceof Set) {\n    const clonedSet = new Set()\n    cache.set(object, clonedSet)\n    for (const value of object.values()) {\n      clonedSet.add(cloneDeep(value, cache))\n    }\n    return clonedSet as unknown as T\n  }\n\n  // Handle Array and Object\n  if (typeof object === 'object' && object !== null) {\n    if ('$$typeof' in object && typeof object.$$typeof === 'symbol') {\n      return object\n    }\n\n    const clonedObject: any = Array.isArray(object)\n      ? []\n      : Object.create(Object.getPrototypeOf(object))\n    cache.set(object, clonedObject)\n\n    for (const key in object) {\n      if (\n        Object.prototype.hasOwnProperty.call(object, key) ||\n        Object.getOwnPropertySymbols(object).includes(key as any)\n      ) {\n        clonedObject[key] = cloneDeep(object[key], cache)\n      }\n    }\n\n    return clonedObject as T\n  }\n\n  // Handle all other cases\n  return object\n}\n"],"names":["cloneDeep","object","cache","WeakMap","has","get","Date","getTime","RegExp","source","flags","Map","clonedMap","set","key","value","entries","Set","clonedSet","values","add","$$typeof","clonedObject","Array","isArray","Object","create","getPrototypeOf","prototype","hasOwnProperty","call","getOwnPropertySymbols","includes"],"mappings":"AAAA,OAAO,SAASA,UAAaC,MAAS,EAAEC,QAA2B,IAAIC,SAAS;IAC9E,IAAIF,WAAW,MAAM,OAAO;IAE5B,IAAIC,MAAME,GAAG,CAACH,SAAS;QACrB,OAAOC,MAAMG,GAAG,CAACJ;IACnB;IAEA,cAAc;IACd,IAAIA,kBAAkBK,MAAM;QAC1B,OAAO,IAAIA,KAAKL,OAAOM,OAAO;IAChC;IAEA,gBAAgB;IAChB,IAAIN,kBAAkBO,QAAQ;QAC5B,OAAO,IAAIA,OAAOP,OAAOQ,MAAM,EAAER,OAAOS,KAAK;IAC/C;IAEA,aAAa;IACb,IAAIT,kBAAkBU,KAAK;QACzB,MAAMC,YAAY,IAAID;QACtBT,MAAMW,GAAG,CAACZ,QAAQW;QAClB,KAAK,MAAM,CAACE,KAAKC,MAAM,IAAId,OAAOe,OAAO,GAAI;YAC3CJ,UAAUC,GAAG,CAACC,KAAKd,UAAUe,OAAOb;QACtC;QACA,OAAOU;IACT;IAEA,aAAa;IACb,IAAIX,kBAAkBgB,KAAK;QACzB,MAAMC,YAAY,IAAID;QACtBf,MAAMW,GAAG,CAACZ,QAAQiB;QAClB,KAAK,MAAMH,SAASd,OAAOkB,MAAM,GAAI;YACnCD,UAAUE,GAAG,CAACpB,UAAUe,OAAOb;QACjC;QACA,OAAOgB;IACT;IAEA,0BAA0B;IAC1B,IAAI,OAAOjB,WAAW,YAAYA,WAAW,MAAM;QACjD,IAAI,cAAcA,UAAU,OAAOA,OAAOoB,QAAQ,KAAK,UAAU;YAC/D,OAAOpB;QACT;QAEA,MAAMqB,eAAoBC,MAAMC,OAAO,CAACvB,UACpC,EAAE,GACFwB,OAAOC,MAAM,CAACD,OAAOE,cAAc,CAAC1B;QACxCC,MAAMW,GAAG,CAACZ,QAAQqB;QAElB,IAAK,MAAMR,OAAOb,OAAQ;YACxB,IACEwB,OAAOG,SAAS,CAACC,cAAc,CAACC,IAAI,CAAC7B,QAAQa,QAC7CW,OAAOM,qBAAqB,CAAC9B,QAAQ+B,QAAQ,CAAClB,MAC9C;gBACAQ,YAAY,CAACR,IAAI,GAAGd,UAAUC,MAAM,CAACa,IAAI,EAAEZ;YAC7C;QACF;QAEA,OAAOoB;IACT;IAEA,yBAAyB;IACzB,OAAOrB;AACT"}