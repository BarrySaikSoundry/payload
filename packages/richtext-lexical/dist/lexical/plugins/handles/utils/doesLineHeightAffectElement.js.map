{"version":3,"sources":["../../../../../src/lexical/plugins/handles/utils/doesLineHeightAffectElement.ts"],"sourcesContent":["const replacedElements = [\n  'IMG',\n  'INPUT',\n  'TEXTAREA',\n  'SELECT',\n  'BUTTON',\n  'VIDEO',\n  'OBJECT',\n  'EMBED',\n  'IFRAME',\n  'HR',\n]\n\n/**\n * From ChatGPT, only that verified it works for HR elements.\n *\n * HTML Elements can have CSS lineHeight applied to them, but it doesn't always affect the visual layout.\n * This function checks if the line-height property has an effect on the element's layout.\n * @param htmlElem\n */\nexport function doesLineHeightAffectElement(htmlElem: HTMLElement) {\n  if (!htmlElem) return false\n\n  // Check for replaced elements, elements that typically don't support line-height adjustments,\n  // and elements without visible content\n\n  if (\n    replacedElements.includes(htmlElem.tagName) ||\n    htmlElem.offsetHeight === 0 ||\n    htmlElem.offsetWidth === 0\n  ) {\n    return false\n  }\n\n  // Check for specific CSS properties that negate line-height's visual effects\n  const style = window.getComputedStyle(htmlElem)\n  if (\n    style.display === 'table-cell' ||\n    style.position === 'absolute' ||\n    style.visibility === 'hidden' ||\n    style.opacity === '0'\n  ) {\n    return false\n  }\n\n  // This is a basic check, and there can be more complex scenarios where line-height doesn't have an effect.\n  return true\n}\n"],"names":["replacedElements","doesLineHeightAffectElement","htmlElem","includes","tagName","offsetHeight","offsetWidth","style","window","getComputedStyle","display","position","visibility","opacity"],"mappings":"AAAA,MAAMA,mBAAmB;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED;;;;;;CAMC,GACD,OAAO,SAASC,4BAA4BC,QAAqB;IAC/D,IAAI,CAACA,UAAU,OAAO;IAEtB,8FAA8F;IAC9F,uCAAuC;IAEvC,IACEF,iBAAiBG,QAAQ,CAACD,SAASE,OAAO,KAC1CF,SAASG,YAAY,KAAK,KAC1BH,SAASI,WAAW,KAAK,GACzB;QACA,OAAO;IACT;IAEA,6EAA6E;IAC7E,MAAMC,QAAQC,OAAOC,gBAAgB,CAACP;IACtC,IACEK,MAAMG,OAAO,KAAK,gBAClBH,MAAMI,QAAQ,KAAK,cACnBJ,MAAMK,UAAU,KAAK,YACrBL,MAAMM,OAAO,KAAK,KAClB;QACA,OAAO;IACT;IAEA,2GAA2G;IAC3G,OAAO;AACT"}