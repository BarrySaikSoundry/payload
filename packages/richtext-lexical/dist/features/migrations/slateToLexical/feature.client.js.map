{"version":3,"sources":["../../../../src/features/migrations/slateToLexical/feature.client.tsx"],"sourcesContent":["'use client'\n\nimport type { SlateNodeConverter } from './converter/types.js'\n\nimport { createClientFeature } from '../../../utilities/createClientFeature.js'\nimport { convertSlateToLexical } from './converter/index.js'\nimport { UnknownConvertedNode } from './nodes/unknownConvertedNode/index.js'\n\nexport const SlateToLexicalFeatureClient = createClientFeature(({ clientFunctions }) => {\n  const converters: SlateNodeConverter[] = Object.values(clientFunctions)\n\n  return {\n    hooks: {\n      load({ incomingEditorState }) {\n        if (\n          !incomingEditorState ||\n          !Array.isArray(incomingEditorState) ||\n          'root' in incomingEditorState\n        ) {\n          // incomingEditorState null or not from Slate\n          return incomingEditorState\n        }\n        // Slate => convert to lexical\n\n        return convertSlateToLexical({\n          converters,\n          slateData: incomingEditorState,\n        })\n      },\n    },\n    nodes: [UnknownConvertedNode],\n  }\n})\n"],"names":["createClientFeature","convertSlateToLexical","UnknownConvertedNode","SlateToLexicalFeatureClient","clientFunctions","converters","Object","values","hooks","load","incomingEditorState","Array","isArray","slateData","nodes"],"mappings":"AAAA;AAIA,SAASA,mBAAmB,QAAQ,4CAA2C;AAC/E,SAASC,qBAAqB,QAAQ,uBAAsB;AAC5D,SAASC,oBAAoB,QAAQ,wCAAuC;AAE5E,OAAO,MAAMC,8BAA8BH,oBAAoB,CAAC,EAAEI,eAAe,EAAE;IACjF,MAAMC,aAAmCC,OAAOC,MAAM,CAACH;IAEvD,OAAO;QACLI,OAAO;YACLC,MAAK,EAAEC,mBAAmB,EAAE;gBAC1B,IACE,CAACA,uBACD,CAACC,MAAMC,OAAO,CAACF,wBACf,UAAUA,qBACV;oBACA,6CAA6C;oBAC7C,OAAOA;gBACT;gBACA,8BAA8B;gBAE9B,OAAOT,sBAAsB;oBAC3BI;oBACAQ,WAAWH;gBACb;YACF;QACF;QACAI,OAAO;YAACZ;SAAqB;IAC/B;AACF,GAAE"}