{"version":3,"sources":["../../../../src/features/migrations/lexicalPluginToLexical/feature.client.tsx"],"sourcesContent":["'use client'\n\nimport type { LexicalPluginNodeConverter, PayloadPluginLexicalData } from './converter/types.js'\n\nimport { createClientFeature } from '../../../utilities/createClientFeature.js'\nimport { convertLexicalPluginToLexical } from './converter/index.js'\nimport { UnknownConvertedNode } from './nodes/unknownConvertedNode/index.js'\n\nexport const LexicalPluginToLexicalFeatureClient = createClientFeature(({ clientFunctions }) => {\n  const converters: LexicalPluginNodeConverter[] = Object.values(clientFunctions)\n\n  return {\n    hooks: {\n      load({ incomingEditorState }) {\n        if (!incomingEditorState || !('jsonContent' in incomingEditorState)) {\n          // incomingEditorState null or not from Lexical Plugin\n          return incomingEditorState\n        }\n        // Lexical Plugin => convert to lexical\n\n        return convertLexicalPluginToLexical({\n          converters,\n          lexicalPluginData: incomingEditorState as unknown as PayloadPluginLexicalData,\n        })\n      },\n    },\n    nodes: [UnknownConvertedNode],\n  }\n})\n"],"names":["createClientFeature","convertLexicalPluginToLexical","UnknownConvertedNode","LexicalPluginToLexicalFeatureClient","clientFunctions","converters","Object","values","hooks","load","incomingEditorState","lexicalPluginData","nodes"],"mappings":"AAAA;AAIA,SAASA,mBAAmB,QAAQ,4CAA2C;AAC/E,SAASC,6BAA6B,QAAQ,uBAAsB;AACpE,SAASC,oBAAoB,QAAQ,wCAAuC;AAE5E,OAAO,MAAMC,sCAAsCH,oBAAoB,CAAC,EAAEI,eAAe,EAAE;IACzF,MAAMC,aAA2CC,OAAOC,MAAM,CAACH;IAE/D,OAAO;QACLI,OAAO;YACLC,MAAK,EAAEC,mBAAmB,EAAE;gBAC1B,IAAI,CAACA,uBAAuB,CAAE,CAAA,iBAAiBA,mBAAkB,GAAI;oBACnE,sDAAsD;oBACtD,OAAOA;gBACT;gBACA,uCAAuC;gBAEvC,OAAOT,8BAA8B;oBACnCI;oBACAM,mBAAmBD;gBACrB;YACF;QACF;QACAE,OAAO;YAACV;SAAqB;IAC/B;AACF,GAAE"}