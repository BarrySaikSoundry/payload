{"version":3,"sources":["../../../src/collections/Forms/fields.ts"],"sourcesContent":["import type { Block, Field } from 'payload'\n\nimport type { FieldConfig, PaymentFieldConfig } from '../../types.js'\n\nimport { DynamicFieldSelector } from './DynamicFieldSelector.js'\nimport { DynamicPriceSelector } from './DynamicPriceSelector.js'\n\nconst name: Field = {\n  name: 'name',\n  type: 'text',\n  label: 'Name (lowercase, no special characters)',\n  required: true,\n}\n\nconst label: Field = {\n  name: 'label',\n  type: 'text',\n  label: 'Label',\n  localized: true,\n}\n\nconst required: Field = {\n  name: 'required',\n  type: 'checkbox',\n  label: 'Required',\n}\n\nconst width: Field = {\n  name: 'width',\n  type: 'number',\n  label: 'Field Width (percentage)',\n}\n\nconst Select: Block = {\n  slug: 'select',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          ...width,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          name: 'defaultValue',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n          label: 'Default Value',\n          localized: true,\n        },\n      ],\n    },\n    {\n      name: 'options',\n      type: 'array',\n      fields: [\n        {\n          type: 'row',\n          fields: [\n            {\n              name: 'label',\n              type: 'text',\n              admin: {\n                width: '50%',\n              },\n              label: 'Label',\n              localized: true,\n              required: true,\n            },\n            {\n              name: 'value',\n              type: 'text',\n              admin: {\n                width: '50%',\n              },\n              label: 'Value',\n              required: true,\n            },\n          ],\n        },\n      ],\n      label: 'Select Attribute Options',\n      labels: {\n        plural: 'Options',\n        singular: 'Option',\n      },\n    },\n    required,\n  ],\n  labels: {\n    plural: 'Select Fields',\n    singular: 'Select',\n  },\n}\n\nconst Text: Block = {\n  slug: 'text',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          ...width,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          name: 'defaultValue',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n          label: 'Default Value',\n          localized: true,\n        },\n      ],\n    },\n    required,\n  ],\n  labels: {\n    plural: 'Text Fields',\n    singular: 'Text',\n  },\n}\n\nconst TextArea: Block = {\n  slug: 'textarea',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          ...width,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          name: 'defaultValue',\n          type: 'text',\n          admin: {\n            width: '50%',\n          },\n          label: 'Default Value',\n          localized: true,\n        },\n      ],\n    },\n    required,\n  ],\n  labels: {\n    plural: 'Text Area Fields',\n    singular: 'Text Area',\n  },\n}\n\nconst Number: Block = {\n  slug: 'number',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          ...width,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          name: 'defaultValue',\n          type: 'number',\n          admin: {\n            width: '50%',\n          },\n          label: 'Default Value',\n        },\n      ],\n    },\n    required,\n  ],\n  labels: {\n    plural: 'Number Fields',\n    singular: 'Number',\n  },\n}\n\nconst Email: Block = {\n  slug: 'email',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    width,\n    required,\n  ],\n  labels: {\n    plural: 'Email Fields',\n    singular: 'Email',\n  },\n}\n\nconst State: Block = {\n  slug: 'state',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    width,\n    required,\n  ],\n  labels: {\n    plural: 'State Fields',\n    singular: 'State',\n  },\n}\n\nconst Country: Block = {\n  slug: 'country',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    width,\n    required,\n  ],\n  labels: {\n    plural: 'Country Fields',\n    singular: 'Country',\n  },\n}\n\nconst Checkbox: Block = {\n  slug: 'checkbox',\n  fields: [\n    {\n      type: 'row',\n      fields: [\n        {\n          ...name,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...label,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    {\n      type: 'row',\n      fields: [\n        {\n          ...width,\n          admin: {\n            width: '50%',\n          },\n        },\n        {\n          ...required,\n          admin: {\n            width: '50%',\n          },\n        },\n      ],\n    },\n    {\n      name: 'defaultValue',\n      type: 'checkbox',\n      label: 'Default Value',\n    },\n  ],\n  labels: {\n    plural: 'Checkbox Fields',\n    singular: 'Checkbox',\n  },\n}\n\nconst Payment = (fieldConfig: PaymentFieldConfig): Block => {\n  let paymentProcessorField = null\n  if (fieldConfig?.paymentProcessor) {\n    paymentProcessorField = {\n      name: 'paymentProcessor',\n      type: 'select',\n      label: 'Payment Processor',\n      options: [],\n      ...fieldConfig.paymentProcessor,\n    }\n  }\n\n  const fields = {\n    slug: 'payment',\n    fields: [\n      {\n        type: 'row',\n        fields: [\n          {\n            ...name,\n            admin: {\n              width: '50%',\n            },\n          },\n          {\n            ...label,\n            admin: {\n              width: '50%',\n            },\n          },\n        ],\n      },\n      {\n        type: 'row',\n        fields: [\n          {\n            ...width,\n            admin: {\n              width: '50%',\n            },\n          },\n          {\n            name: 'basePrice',\n            type: 'number',\n            admin: {\n              width: '50%',\n            },\n            label: 'Base Price',\n          },\n        ],\n      },\n      paymentProcessorField,\n      {\n        name: 'priceConditions',\n        type: 'array',\n        fields: [\n          {\n            name: 'fieldToUse',\n            type: 'text',\n            admin: {\n              components: {\n                Field: DynamicFieldSelector,\n              },\n            },\n          },\n          {\n            name: 'condition',\n            type: 'select',\n            defaultValue: 'hasValue',\n            label: 'Condition',\n            options: [\n              {\n                label: 'Has Any Value',\n                value: 'hasValue',\n              },\n              {\n                label: 'Equals',\n                value: 'equals',\n              },\n              {\n                label: 'Does Not Equal',\n                value: 'notEquals',\n              },\n            ],\n          },\n          {\n            name: 'valueForCondition',\n            type: 'text',\n            admin: {\n              condition: (_: any, { condition }: any) =>\n                condition === 'equals' || condition === 'notEquals',\n            },\n            label: 'Value',\n          },\n          {\n            name: 'operator',\n            type: 'select',\n            defaultValue: 'add',\n            options: [\n              {\n                label: 'Add',\n                value: 'add',\n              },\n              {\n                label: 'Subtract',\n                value: 'subtract',\n              },\n              {\n                label: 'Multiply',\n                value: 'multiply',\n              },\n              {\n                label: 'Divide',\n                value: 'divide',\n              },\n            ],\n          },\n          {\n            name: 'valueType',\n            type: 'radio',\n            admin: {\n              width: '100%',\n            },\n            defaultValue: 'static',\n            label: 'Value Type',\n            options: [\n              {\n                label: 'Static Value',\n                value: 'static',\n              },\n              {\n                label: 'Value Of Field',\n                value: 'valueOfField',\n              },\n            ],\n          },\n          {\n            name: 'valueForOperator',\n            type: 'text',\n            admin: {\n              components: {\n                Field: DynamicPriceSelector,\n              },\n            },\n            label: 'Value',\n          },\n        ],\n        label: 'Price Conditions',\n        labels: {\n          plural: 'Price Conditions',\n          singular: 'Price Condition',\n        },\n      },\n      required,\n    ].filter(Boolean) as Field[],\n    labels: {\n      plural: 'Payment Fields',\n      singular: 'Payment',\n    },\n  }\n\n  return fields\n}\n\nconst Message: Block = {\n  slug: 'message',\n  fields: [\n    {\n      name: 'message',\n      type: 'richText',\n      localized: true,\n    },\n  ],\n  labels: {\n    plural: 'Message Blocks',\n    singular: 'Message',\n  },\n}\n\n \nexport const fields = {\n  checkbox: Checkbox,\n  country: Country,\n  email: Email,\n  message: Message,\n  number: Number,\n  payment: Payment,\n  select: Select,\n  state: State,\n  text: Text,\n  textarea: TextArea,\n} as {\n  [key: string]: ((fieldConfig?: FieldConfig | boolean) => Block) | Block\n}\n"],"names":["DynamicFieldSelector","DynamicPriceSelector","name","type","label","required","localized","width","Select","slug","fields","admin","labels","plural","singular","Text","TextArea","Number","Email","State","Country","Checkbox","Payment","fieldConfig","paymentProcessorField","paymentProcessor","options","components","Field","defaultValue","value","condition","_","filter","Boolean","Message","checkbox","country","email","message","number","payment","select","state","text","textarea"],"mappings":"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"}