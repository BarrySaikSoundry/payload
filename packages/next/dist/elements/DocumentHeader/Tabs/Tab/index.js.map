{"version":3,"sources":["../../../../../src/elements/DocumentHeader/Tabs/Tab/index.tsx"],"sourcesContent":["import type { DocumentTabConfig, DocumentTabProps } from 'payload'\n\nimport React, { Fragment } from 'react'\n\nimport { DocumentTabLink } from './TabLink.js'\nimport './index.scss'\n\nexport const baseClass = 'doc-tab'\n\nexport const DocumentTab: React.FC<DocumentTabConfig & DocumentTabProps> = (props) => {\n  const {\n    Pill,\n    apiURL,\n    collectionConfig,\n    condition,\n    config,\n    globalConfig,\n    href: tabHref,\n    i18n,\n    isActive: tabIsActive,\n    label,\n    newTab,\n    permissions,\n  } = props\n\n  const { routes } = config\n\n  let href = typeof tabHref === 'string' ? tabHref : ''\n  let isActive = typeof tabIsActive === 'boolean' ? tabIsActive : false\n\n  if (typeof tabHref === 'function') {\n    href = tabHref({\n      apiURL,\n      collection: collectionConfig,\n      global: globalConfig,\n      routes,\n    })\n  }\n\n  if (typeof tabIsActive === 'function') {\n    isActive = tabIsActive({\n      href,\n    })\n  }\n\n  const meetsCondition =\n    !condition ||\n    (condition && Boolean(condition({ collectionConfig, config, globalConfig, permissions })))\n\n  if (meetsCondition) {\n    const labelToRender =\n      typeof label === 'function'\n        ? label({\n            t: i18n.t,\n          })\n        : label\n\n    return (\n      <DocumentTabLink\n        adminRoute={routes.admin}\n        ariaLabel={labelToRender}\n        baseClass={baseClass}\n        href={href}\n        isActive={isActive}\n        isCollection={!!collectionConfig && !globalConfig}\n        newTab={newTab}\n      >\n        <span className={`${baseClass}__label`}>\n          {labelToRender}\n          {Pill && (\n            <Fragment>\n              &nbsp;\n              <Pill />\n            </Fragment>\n          )}\n        </span>\n      </DocumentTabLink>\n    )\n  }\n\n  return null\n}\n"],"names":["React","Fragment","DocumentTabLink","baseClass","DocumentTab","props","Pill","apiURL","collectionConfig","condition","config","globalConfig","href","tabHref","i18n","isActive","tabIsActive","label","newTab","permissions","routes","collection","global","meetsCondition","Boolean","labelToRender","t","adminRoute","admin","ariaLabel","isCollection","span","className"],"mappings":";AAEA,OAAOA,SAASC,QAAQ,QAAQ,QAAO;AAEvC,SAASC,eAAe,QAAQ,eAAc;AAG9C,OAAO,MAAMC,YAAY,UAAS;AAElC,OAAO,MAAMC,cAA8D,CAACC;IAC1E,MAAM,EACJC,IAAI,EACJC,MAAM,EACNC,gBAAgB,EAChBC,SAAS,EACTC,MAAM,EACNC,YAAY,EACZC,MAAMC,OAAO,EACbC,IAAI,EACJC,UAAUC,WAAW,EACrBC,KAAK,EACLC,MAAM,EACNC,WAAW,EACZ,GAAGd;IAEJ,MAAM,EAAEe,MAAM,EAAE,GAAGV;IAEnB,IAAIE,OAAO,OAAOC,YAAY,WAAWA,UAAU;IACnD,IAAIE,WAAW,OAAOC,gBAAgB,YAAYA,cAAc;IAEhE,IAAI,OAAOH,YAAY,YAAY;QACjCD,OAAOC,QAAQ;YACbN;YACAc,YAAYb;YACZc,QAAQX;YACRS;QACF;IACF;IAEA,IAAI,OAAOJ,gBAAgB,YAAY;QACrCD,WAAWC,YAAY;YACrBJ;QACF;IACF;IAEA,MAAMW,iBACJ,CAACd,aACAA,aAAae,QAAQf,UAAU;QAAED;QAAkBE;QAAQC;QAAcQ;IAAY;IAExF,IAAII,gBAAgB;QAClB,MAAME,gBACJ,OAAOR,UAAU,aACbA,MAAM;YACJS,GAAGZ,KAAKY,CAAC;QACX,KACAT;QAEN,qBACE,KAACf;YACCyB,YAAYP,OAAOQ,KAAK;YACxBC,WAAWJ;YACXtB,WAAWA;YACXS,MAAMA;YACNG,UAAUA;YACVe,cAAc,CAAC,CAACtB,oBAAoB,CAACG;YACrCO,QAAQA;sBAER,cAAA,MAACa;gBAAKC,WAAW,CAAC,EAAE7B,UAAU,OAAO,CAAC;;oBACnCsB;oBACAnB,sBACC,MAACL;;4BAAS;0CAER,KAACK;;;;;;IAMb;IAEA,OAAO;AACT,EAAC"}