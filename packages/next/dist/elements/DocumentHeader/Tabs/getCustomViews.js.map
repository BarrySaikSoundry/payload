{"version":3,"sources":["../../../../src/elements/DocumentHeader/Tabs/getCustomViews.ts"],"sourcesContent":["import type { EditViewConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport { documentViewKeys } from './tabs/index.js'\n\nexport const getCustomViews = (args: {\n  collectionConfig: SanitizedCollectionConfig\n  globalConfig: SanitizedGlobalConfig\n}): EditViewConfig[] => {\n  const { collectionConfig, globalConfig } = args\n\n  let customViews: EditViewConfig[]\n\n  if (collectionConfig) {\n    const collectionViewsConfig =\n      typeof collectionConfig?.admin?.components?.views?.Edit === 'object' &&\n      typeof collectionConfig?.admin?.components?.views?.Edit !== 'function'\n        ? collectionConfig?.admin?.components?.views?.Edit\n        : undefined\n\n    customViews = Object.entries(collectionViewsConfig || {}).reduce((prev, [key, view]) => {\n      if (documentViewKeys.includes(key)) {\n        return prev\n      }\n\n      return [...prev, { ...view, key }]\n    }, [])\n  }\n\n  if (globalConfig) {\n    const globalViewsConfig =\n      typeof globalConfig?.admin?.components?.views?.Edit === 'object' &&\n      typeof globalConfig?.admin?.components?.views?.Edit !== 'function'\n        ? globalConfig?.admin?.components?.views?.Edit\n        : undefined\n\n    customViews = Object.entries(globalViewsConfig || {}).reduce((prev, [key, view]) => {\n      if (documentViewKeys.includes(key)) {\n        return prev\n      }\n\n      return [...prev, { ...view, key }]\n    }, [])\n  }\n\n  return customViews\n}\n"],"names":["documentViewKeys","getCustomViews","args","collectionConfig","globalConfig","customViews","collectionViewsConfig","admin","components","views","Edit","undefined","Object","entries","reduce","prev","key","view","includes","globalViewsConfig"],"mappings":"AAEA,SAASA,gBAAgB,QAAQ,kBAAiB;AAElD,OAAO,MAAMC,iBAAiB,CAACC;IAI7B,MAAM,EAAEC,gBAAgB,EAAEC,YAAY,EAAE,GAAGF;IAE3C,IAAIG;IAEJ,IAAIF,kBAAkB;QACpB,MAAMG,wBACJ,OAAOH,kBAAkBI,OAAOC,YAAYC,OAAOC,SAAS,YAC5D,OAAOP,kBAAkBI,OAAOC,YAAYC,OAAOC,SAAS,aACxDP,kBAAkBI,OAAOC,YAAYC,OAAOC,OAC5CC;QAENN,cAAcO,OAAOC,OAAO,CAACP,yBAAyB,CAAC,GAAGQ,MAAM,CAAC,CAACC,MAAM,CAACC,KAAKC,KAAK;YACjF,IAAIjB,iBAAiBkB,QAAQ,CAACF,MAAM;gBAClC,OAAOD;YACT;YAEA,OAAO;mBAAIA;gBAAM;oBAAE,GAAGE,IAAI;oBAAED;gBAAI;aAAE;QACpC,GAAG,EAAE;IACP;IAEA,IAAIZ,cAAc;QAChB,MAAMe,oBACJ,OAAOf,cAAcG,OAAOC,YAAYC,OAAOC,SAAS,YACxD,OAAON,cAAcG,OAAOC,YAAYC,OAAOC,SAAS,aACpDN,cAAcG,OAAOC,YAAYC,OAAOC,OACxCC;QAENN,cAAcO,OAAOC,OAAO,CAACM,qBAAqB,CAAC,GAAGL,MAAM,CAAC,CAACC,MAAM,CAACC,KAAKC,KAAK;YAC7E,IAAIjB,iBAAiBkB,QAAQ,CAACF,MAAM;gBAClC,OAAOD;YACT;YAEA,OAAO;mBAAIA;gBAAM;oBAAE,GAAGE,IAAI;oBAAED;gBAAI;aAAE;QACpC,GAAG,EAAE;IACP;IAEA,OAAOX;AACT,EAAC"}