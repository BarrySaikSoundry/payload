{"version":3,"sources":["../../../src/views/Versions/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  let title: string = ''\n  let description: string = ''\n  const keywords: string = ''\n\n  const data: any = {} // TODO: figure this out\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle || 'id'\n    const titleFromData = data?.[useAsTitle]\n    title = `${t('version:versions')}${titleFromData ? ` - ${titleFromData}` : ''} - ${entityLabel}`\n    description = t('version:viewingVersions', {\n      documentTitle: data?.[useAsTitle],\n      entitySlug: collectionConfig.slug,\n    })\n  }\n\n  if (globalConfig) {\n    title = `${t('version:versions')} - ${entityLabel}`\n    description = t('version:viewingVersionsGlobal', { entitySlug: globalConfig.slug })\n  }\n\n  return meta({\n    ...(config.admin.meta || {}),\n    description,\n    keywords,\n    serverURL: config.serverURL,\n    title,\n    ...(collectionConfig?.admin.meta || {}),\n    ...(globalConfig?.admin.meta || {}),\n  })\n}\n"],"names":["getTranslation","meta","generateMetadata","collectionConfig","config","globalConfig","i18n","t","entityLabel","labels","singular","label","title","description","keywords","data","useAsTitle","admin","titleFromData","documentTitle","entitySlug","slug","serverURL"],"mappings":"AAEA,SAASA,cAAc,QAAQ,2BAA0B;AAIzD,SAASC,IAAI,QAAQ,0BAAyB;AAE9C,OAAO,MAAMC,mBAA6C,OAAO,EAC/DC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAI,EACL;IACC,MAAM,EAAEC,CAAC,EAAE,GAAGD;IAEd,MAAME,cAAcL,mBAChBH,eAAeG,iBAAiBM,MAAM,CAACC,QAAQ,EAAEJ,QACjDD,eACEL,eAAeK,aAAaM,KAAK,EAAEL,QACnC;IAEN,IAAIM,QAAgB;IACpB,IAAIC,cAAsB;IAC1B,MAAMC,WAAmB;IAEzB,MAAMC,OAAY,CAAC,EAAE,wBAAwB;;IAE7C,IAAIZ,kBAAkB;QACpB,MAAMa,aAAab,kBAAkBc,OAAOD,cAAc;QAC1D,MAAME,gBAAgBH,MAAM,CAACC,WAAW;QACxCJ,QAAQ,CAAC,EAAEL,EAAE,oBAAoB,EAAEW,gBAAgB,CAAC,GAAG,EAAEA,cAAc,CAAC,GAAG,GAAG,GAAG,EAAEV,YAAY,CAAC;QAChGK,cAAcN,EAAE,2BAA2B;YACzCY,eAAeJ,MAAM,CAACC,WAAW;YACjCI,YAAYjB,iBAAiBkB,IAAI;QACnC;IACF;IAEA,IAAIhB,cAAc;QAChBO,QAAQ,CAAC,EAAEL,EAAE,oBAAoB,GAAG,EAAEC,YAAY,CAAC;QACnDK,cAAcN,EAAE,iCAAiC;YAAEa,YAAYf,aAAagB,IAAI;QAAC;IACnF;IAEA,OAAOpB,KAAK;QACV,GAAIG,OAAOa,KAAK,CAAChB,IAAI,IAAI,CAAC,CAAC;QAC3BY;QACAC;QACAQ,WAAWlB,OAAOkB,SAAS;QAC3BV;QACA,GAAIT,kBAAkBc,MAAMhB,QAAQ,CAAC,CAAC;QACtC,GAAII,cAAcY,MAAMhB,QAAQ,CAAC,CAAC;IACpC;AACF,EAAC"}