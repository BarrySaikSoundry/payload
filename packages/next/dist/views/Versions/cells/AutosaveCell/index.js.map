{"version":3,"sources":["../../../../../src/views/Versions/cells/AutosaveCell/index.tsx"],"sourcesContent":["'use client'\nimport { Pill, useTableCell, useTranslation } from '@payloadcms/ui'\nimport React, { Fragment } from 'react'\n\ntype AutosaveCellProps = {\n  latestDraftVersion?: string\n  latestPublishedVersion?: string\n}\n\nexport const renderPill = (data, latestVersion, currentLabel, previousLabel, pillStyle) => {\n  return (\n    <React.Fragment>\n      {data?.id === latestVersion ? (\n        <Pill pillStyle={pillStyle}>{currentLabel}</Pill>\n      ) : (\n        <Pill>{previousLabel}</Pill>\n      )}\n      &nbsp;&nbsp;\n    </React.Fragment>\n  )\n}\n\nexport const AutosaveCell: React.FC<AutosaveCellProps> = ({\n  latestDraftVersion,\n  latestPublishedVersion,\n}) => {\n  const { t } = useTranslation()\n  const { rowData } = useTableCell()\n\n  const status = rowData?.version._status\n\n  const versionInfo = {\n    draft: {\n      currentLabel: t('version:currentDraft'),\n      latestVersion: latestDraftVersion,\n      pillStyle: undefined,\n      previousLabel: t('version:draft'),\n    },\n    published: {\n      currentLabel: t('version:currentPublishedVersion'),\n      latestVersion: latestPublishedVersion,\n      pillStyle: 'success',\n      previousLabel: t('version:previouslyPublished'),\n    },\n  }\n\n  const { currentLabel, latestVersion, pillStyle, previousLabel } = versionInfo[status] || {}\n\n  return (\n    <Fragment>\n      {rowData?.autosave && (\n        <React.Fragment>\n          <Pill>{t('version:autosave')}</Pill>\n          &nbsp;&nbsp;\n        </React.Fragment>\n      )}\n      {status && renderPill(rowData, latestVersion, currentLabel, previousLabel, pillStyle)}\n    </Fragment>\n  )\n}\n"],"names":["Pill","useTableCell","useTranslation","React","Fragment","renderPill","data","latestVersion","currentLabel","previousLabel","pillStyle","id","AutosaveCell","latestDraftVersion","latestPublishedVersion","t","rowData","status","version","_status","versionInfo","draft","undefined","published","autosave"],"mappings":"AAAA;;AACA,SAASA,IAAI,EAAEC,YAAY,EAAEC,cAAc,QAAQ,iBAAgB;AACnE,OAAOC,SAASC,QAAQ,QAAQ,QAAO;AAOvC,OAAO,MAAMC,aAAa,CAACC,MAAMC,eAAeC,cAAcC,eAAeC;IAC3E,qBACE,MAACP,MAAMC,QAAQ;;YACZE,MAAMK,OAAOJ,8BACZ,KAACP;gBAAKU,WAAWA;0BAAYF;+BAE7B,KAACR;0BAAMS;;YACP;;;AAIR,EAAC;AAED,OAAO,MAAMG,eAA4C,CAAC,EACxDC,kBAAkB,EAClBC,sBAAsB,EACvB;IACC,MAAM,EAAEC,CAAC,EAAE,GAAGb;IACd,MAAM,EAAEc,OAAO,EAAE,GAAGf;IAEpB,MAAMgB,SAASD,SAASE,QAAQC;IAEhC,MAAMC,cAAc;QAClBC,OAAO;YACLb,cAAcO,EAAE;YAChBR,eAAeM;YACfH,WAAWY;YACXb,eAAeM,EAAE;QACnB;QACAQ,WAAW;YACTf,cAAcO,EAAE;YAChBR,eAAeO;YACfJ,WAAW;YACXD,eAAeM,EAAE;QACnB;IACF;IAEA,MAAM,EAAEP,YAAY,EAAED,aAAa,EAAEG,SAAS,EAAED,aAAa,EAAE,GAAGW,WAAW,CAACH,OAAO,IAAI,CAAC;IAE1F,qBACE,MAACb;;YACEY,SAASQ,0BACR,MAACrB,MAAMC,QAAQ;;kCACb,KAACJ;kCAAMe,EAAE;;oBAA2B;;;YAIvCE,UAAUZ,WAAWW,SAAST,eAAeC,cAAcC,eAAeC;;;AAGjF,EAAC"}