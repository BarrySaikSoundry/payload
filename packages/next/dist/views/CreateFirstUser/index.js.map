{"version":3,"sources":["../../../src/views/CreateFirstUser/index.tsx"],"sourcesContent":["import type { AdminViewProps, Field } from 'payload'\n\nimport { buildStateFromSchema } from '@payloadcms/ui/forms/buildStateFromSchema'\nimport React from 'react'\n\nimport { CreateFirstUserClient } from './index.client.js'\nimport './index.scss'\n\nexport { generateCreateFirstUserMetadata } from './meta.js'\n\nexport const CreateFirstUserView: React.FC<AdminViewProps> = async ({ initPageResult }) => {\n  const {\n    req,\n    req: {\n      payload: {\n        config: {\n          admin: { user: userSlug },\n        },\n      },\n    },\n  } = initPageResult\n\n  const fields: Field[] = [\n    {\n      name: 'email',\n      type: 'email',\n      label: req.t('general:emailAddress'),\n      required: true,\n    },\n    {\n      name: 'password',\n      type: 'text',\n      label: req.t('general:password'),\n      required: true,\n    },\n    {\n      name: 'confirm-password',\n      type: 'text',\n      label: req.t('authentication:confirmPassword'),\n      required: true,\n    },\n  ]\n\n  const formState = await buildStateFromSchema({\n    fieldSchema: fields,\n    operation: 'create',\n    preferences: { fields: {} },\n    req,\n  })\n\n  return (\n    <div className=\"create-first-user\">\n      <h1>{req.t('general:welcome')}</h1>\n      <p>{req.t('authentication:beginCreateFirstUser')}</p>\n      <CreateFirstUserClient initialState={formState} userSlug={userSlug} />\n    </div>\n  )\n}\n"],"names":["buildStateFromSchema","React","CreateFirstUserClient","generateCreateFirstUserMetadata","CreateFirstUserView","initPageResult","req","payload","config","admin","user","userSlug","fields","name","type","label","t","required","formState","fieldSchema","operation","preferences","div","className","h1","p","initialState"],"mappings":";AAEA,SAASA,oBAAoB,QAAQ,4CAA2C;AAChF,OAAOC,WAAW,QAAO;AAEzB,SAASC,qBAAqB,QAAQ,oBAAmB;AAGzD,SAASC,+BAA+B,QAAQ,YAAW;AAE3D,OAAO,MAAMC,sBAAgD,OAAO,EAAEC,cAAc,EAAE;IACpF,MAAM,EACJC,GAAG,EACHA,KAAK,EACHC,SAAS,EACPC,QAAQ,EACNC,OAAO,EAAEC,MAAMC,QAAQ,EAAE,EAC1B,EACF,EACF,EACF,GAAGN;IAEJ,MAAMO,SAAkB;QACtB;YACEC,MAAM;YACNC,MAAM;YACNC,OAAOT,IAAIU,CAAC,CAAC;YACbC,UAAU;QACZ;QACA;YACEJ,MAAM;YACNC,MAAM;YACNC,OAAOT,IAAIU,CAAC,CAAC;YACbC,UAAU;QACZ;QACA;YACEJ,MAAM;YACNC,MAAM;YACNC,OAAOT,IAAIU,CAAC,CAAC;YACbC,UAAU;QACZ;KACD;IAED,MAAMC,YAAY,MAAMlB,qBAAqB;QAC3CmB,aAAaP;QACbQ,WAAW;QACXC,aAAa;YAAET,QAAQ,CAAC;QAAE;QAC1BN;IACF;IAEA,qBACE,MAACgB;QAAIC,WAAU;;0BACb,KAACC;0BAAIlB,IAAIU,CAAC,CAAC;;0BACX,KAACS;0BAAGnB,IAAIU,CAAC,CAAC;;0BACV,KAACd;gBAAsBwB,cAAcR;gBAAWP,UAAUA;;;;AAGhE,EAAC"}