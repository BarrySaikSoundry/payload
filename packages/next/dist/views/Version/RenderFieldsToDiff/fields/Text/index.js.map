{"version":3,"sources":["../../../../../../src/views/Version/RenderFieldsToDiff/fields/Text/index.tsx"],"sourcesContent":["import { getTranslation } from '@payloadcms/translations'\nimport React from 'react'\n\nimport type { Props } from '../types.js'\n\nimport Label from '../../Label/index.js'\nimport { diffStyles } from '../styles.js'\nimport { DiffViewer } from './DiffViewer/index.js'\nimport './index.scss'\n\nconst baseClass = 'text-diff'\n\nconst Text: React.FC<Props> = ({\n  comparison,\n  diffMethod,\n  field,\n  i18n,\n  isRichText = false,\n  locale,\n  version,\n}) => {\n  let placeholder = ''\n\n  if (version === comparison) placeholder = `[${i18n.t('general:noValue')}]`\n\n  let versionToRender = version\n  let comparisonToRender = comparison\n\n  if (isRichText) {\n    if (typeof version === 'object') versionToRender = JSON.stringify(version, null, 2)\n    if (typeof comparison === 'object') comparisonToRender = JSON.stringify(comparison, null, 2)\n  }\n\n  return (\n    <div className={baseClass}>\n      <Label>\n        {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n        {'label' in field.fieldComponentProps &&\n          typeof field.fieldComponentProps.label !== 'function' &&\n          getTranslation(field.fieldComponentProps.label || '', i18n)}\n      </Label>\n      <DiffViewer\n        comparisonToRender={comparisonToRender}\n        diffMethod={diffMethod}\n        diffStyles={diffStyles}\n        placeholder={placeholder}\n        versionToRender={versionToRender}\n      />\n    </div>\n  )\n}\n\nexport default Text\n"],"names":["getTranslation","React","Label","diffStyles","DiffViewer","baseClass","Text","comparison","diffMethod","field","i18n","isRichText","locale","version","placeholder","t","versionToRender","comparisonToRender","JSON","stringify","div","className","span","fieldComponentProps","label"],"mappings":";AAAA,SAASA,cAAc,QAAQ,2BAA0B;AACzD,OAAOC,WAAW,QAAO;AAIzB,OAAOC,WAAW,uBAAsB;AACxC,SAASC,UAAU,QAAQ,eAAc;AACzC,SAASC,UAAU,QAAQ,wBAAuB;AAGlD,MAAMC,YAAY;AAElB,MAAMC,OAAwB,CAAC,EAC7BC,UAAU,EACVC,UAAU,EACVC,KAAK,EACLC,IAAI,EACJC,aAAa,KAAK,EAClBC,MAAM,EACNC,OAAO,EACR;IACC,IAAIC,cAAc;IAElB,IAAID,YAAYN,YAAYO,cAAc,CAAC,CAAC,EAAEJ,KAAKK,CAAC,CAAC,mBAAmB,CAAC,CAAC;IAE1E,IAAIC,kBAAkBH;IACtB,IAAII,qBAAqBV;IAEzB,IAAII,YAAY;QACd,IAAI,OAAOE,YAAY,UAAUG,kBAAkBE,KAAKC,SAAS,CAACN,SAAS,MAAM;QACjF,IAAI,OAAON,eAAe,UAAUU,qBAAqBC,KAAKC,SAAS,CAACZ,YAAY,MAAM;IAC5F;IAEA,qBACE,MAACa;QAAIC,WAAWhB;;0BACd,MAACH;;oBACEU,wBAAU,KAACU;wBAAKD,WAAW,CAAC,EAAEhB,UAAU,cAAc,CAAC;kCAAGO;;oBAC1D,WAAWH,MAAMc,mBAAmB,IACnC,OAAOd,MAAMc,mBAAmB,CAACC,KAAK,KAAK,cAC3CxB,eAAeS,MAAMc,mBAAmB,CAACC,KAAK,IAAI,IAAId;;;0BAE1D,KAACN;gBACCa,oBAAoBA;gBACpBT,YAAYA;gBACZL,YAAYA;gBACZW,aAAaA;gBACbE,iBAAiBA;;;;AAIzB;AAEA,eAAeV,KAAI"}