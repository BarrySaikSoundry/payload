{"version":3,"sources":["../../../src/views/ResetPassword/index.tsx"],"sourcesContent":["import type { AdminViewProps } from 'payload'\n\nimport { Button, Translation } from '@payloadcms/ui'\nimport LinkImport from 'next/link.js'\nimport React from 'react'\n\nimport { MinimalTemplate } from '../../templates/Minimal/index.js'\nimport { ResetPasswordClient } from './index.client.js'\nimport './index.scss'\n\nexport const resetPasswordBaseClass = 'reset-password'\n\nconst Link = (LinkImport.default || LinkImport) as unknown as typeof LinkImport.default\n\nexport { generateResetPasswordMetadata } from './meta.js'\n\nexport const ResetPassword: React.FC<AdminViewProps> = ({ initPageResult, params }) => {\n  const { req } = initPageResult\n\n  const {\n    segments: [_, token],\n  } = params\n\n  const {\n    i18n,\n    payload: { config },\n    user,\n  } = req\n\n  const {\n    admin: {\n      routes: { account: accountRoute },\n    },\n    routes: { admin },\n  } = config\n\n  if (user) {\n    return (\n      <MinimalTemplate className={resetPasswordBaseClass}>\n        <div className={`${resetPasswordBaseClass}__wrap`}>\n          <h1>{i18n.t('authentication:alreadyLoggedIn')}</h1>\n          <p>\n            <Translation\n              elements={{\n                '0': ({ children }) => <Link href={`${admin}${accountRoute}`}>{children}</Link>,\n              }}\n              i18nKey=\"authentication:loggedInChangePassword\"\n              t={i18n.t}\n            />\n          </p>\n          <br />\n          <Button Link={Link} buttonStyle=\"secondary\" el=\"link\" to={admin}>\n            {i18n.t('general:backToDashboard')}\n          </Button>\n        </div>\n      </MinimalTemplate>\n    )\n  }\n\n  return (\n    <MinimalTemplate className={resetPasswordBaseClass}>\n      <div className={`${resetPasswordBaseClass}__wrap`}>\n        <h1>{i18n.t('authentication:resetPassword')}</h1>\n        <ResetPasswordClient token={token} />\n      </div>\n    </MinimalTemplate>\n  )\n}\n"],"names":["Button","Translation","LinkImport","React","MinimalTemplate","ResetPasswordClient","resetPasswordBaseClass","Link","default","generateResetPasswordMetadata","ResetPassword","initPageResult","params","req","segments","_","token","i18n","payload","config","user","admin","routes","account","accountRoute","className","div","h1","t","p","elements","children","href","i18nKey","br","buttonStyle","el","to"],"mappings":";AAEA,SAASA,MAAM,EAAEC,WAAW,QAAQ,iBAAgB;AACpD,OAAOC,gBAAgB,eAAc;AACrC,OAAOC,WAAW,QAAO;AAEzB,SAASC,eAAe,QAAQ,mCAAkC;AAClE,SAASC,mBAAmB,QAAQ,oBAAmB;AAGvD,OAAO,MAAMC,yBAAyB,iBAAgB;AAEtD,MAAMC,OAAQL,WAAWM,OAAO,IAAIN;AAEpC,SAASO,6BAA6B,QAAQ,YAAW;AAEzD,OAAO,MAAMC,gBAA0C,CAAC,EAAEC,cAAc,EAAEC,MAAM,EAAE;IAChF,MAAM,EAAEC,GAAG,EAAE,GAAGF;IAEhB,MAAM,EACJG,UAAU,CAACC,GAAGC,MAAM,EACrB,GAAGJ;IAEJ,MAAM,EACJK,IAAI,EACJC,SAAS,EAAEC,MAAM,EAAE,EACnBC,IAAI,EACL,GAAGP;IAEJ,MAAM,EACJQ,OAAO,EACLC,QAAQ,EAAEC,SAASC,YAAY,EAAE,EAClC,EACDF,QAAQ,EAAED,KAAK,EAAE,EAClB,GAAGF;IAEJ,IAAIC,MAAM;QACR,qBACE,KAAChB;YAAgBqB,WAAWnB;sBAC1B,cAAA,MAACoB;gBAAID,WAAW,CAAC,EAAEnB,uBAAuB,MAAM,CAAC;;kCAC/C,KAACqB;kCAAIV,KAAKW,CAAC,CAAC;;kCACZ,KAACC;kCACC,cAAA,KAAC5B;4BACC6B,UAAU;gCACR,KAAK,CAAC,EAAEC,QAAQ,EAAE,iBAAK,KAACxB;wCAAKyB,MAAM,CAAC,EAAEX,MAAM,EAAEG,aAAa,CAAC;kDAAGO;;4BACjE;4BACAE,SAAQ;4BACRL,GAAGX,KAAKW,CAAC;;;kCAGb,KAACM;kCACD,KAAClC;wBAAOO,MAAMA;wBAAM4B,aAAY;wBAAYC,IAAG;wBAAOC,IAAIhB;kCACvDJ,KAAKW,CAAC,CAAC;;;;;IAKlB;IAEA,qBACE,KAACxB;QAAgBqB,WAAWnB;kBAC1B,cAAA,MAACoB;YAAID,WAAW,CAAC,EAAEnB,uBAAuB,MAAM,CAAC;;8BAC/C,KAACqB;8BAAIV,KAAKW,CAAC,CAAC;;8BACZ,KAACvB;oBAAoBW,OAAOA;;;;;AAIpC,EAAC"}