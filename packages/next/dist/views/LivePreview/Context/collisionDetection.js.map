{"version":3,"sources":["../../../../src/views/LivePreview/Context/collisionDetection.ts"],"sourcesContent":["import type { CollisionDetection } from '@dnd-kit/core'\n\nimport { rectIntersection } from '@dnd-kit/core'\n\n// If the toolbar exits the preview area, we need to reset its position\n// This will prevent the toolbar from getting stuck outside the preview area\nexport const customCollisionDetection: CollisionDetection = ({\n  collisionRect,\n  droppableContainers,\n  ...args\n}) => {\n  const droppableContainer = droppableContainers.find(({ id }) => id === 'live-preview-area')\n\n  const rectIntersectionCollisions = rectIntersection({\n    ...args,\n    collisionRect,\n    droppableContainers: [droppableContainer],\n  })\n\n  // Collision detection algorithms return an array of collisions\n  if (rectIntersectionCollisions.length === 0) {\n    // The preview area is not intersecting, return early\n    return rectIntersectionCollisions\n  }\n\n  // Compute whether the draggable element is completely contained within the preview area\n  const previewAreaRect = droppableContainer?.rect?.current\n\n  const isContained =\n    collisionRect.top >= previewAreaRect.top &&\n    collisionRect.left >= previewAreaRect.left &&\n    collisionRect.bottom <= previewAreaRect.bottom &&\n    collisionRect.right <= previewAreaRect.right\n\n  if (isContained) {\n    return rectIntersectionCollisions\n  }\n}\n"],"names":["rectIntersection","customCollisionDetection","collisionRect","droppableContainers","args","droppableContainer","find","id","rectIntersectionCollisions","length","previewAreaRect","rect","current","isContained","top","left","bottom","right"],"mappings":"AAEA,SAASA,gBAAgB,QAAQ,gBAAe;AAEhD,uEAAuE;AACvE,4EAA4E;AAC5E,OAAO,MAAMC,2BAA+C,CAAC,EAC3DC,aAAa,EACbC,mBAAmB,EACnB,GAAGC,MACJ;IACC,MAAMC,qBAAqBF,oBAAoBG,IAAI,CAAC,CAAC,EAAEC,EAAE,EAAE,GAAKA,OAAO;IAEvE,MAAMC,6BAA6BR,iBAAiB;QAClD,GAAGI,IAAI;QACPF;QACAC,qBAAqB;YAACE;SAAmB;IAC3C;IAEA,+DAA+D;IAC/D,IAAIG,2BAA2BC,MAAM,KAAK,GAAG;QAC3C,qDAAqD;QACrD,OAAOD;IACT;IAEA,wFAAwF;IACxF,MAAME,kBAAkBL,oBAAoBM,MAAMC;IAElD,MAAMC,cACJX,cAAcY,GAAG,IAAIJ,gBAAgBI,GAAG,IACxCZ,cAAca,IAAI,IAAIL,gBAAgBK,IAAI,IAC1Cb,cAAcc,MAAM,IAAIN,gBAAgBM,MAAM,IAC9Cd,cAAce,KAAK,IAAIP,gBAAgBO,KAAK;IAE9C,IAAIJ,aAAa;QACf,OAAOL;IACT;AACF,EAAC"}