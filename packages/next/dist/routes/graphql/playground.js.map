{"version":3,"sources":["../../../src/routes/graphql/playground.ts"],"sourcesContent":["import type { SanitizedConfig } from 'payload'\n\nimport { renderPlaygroundPage } from 'graphql-playground-html'\n\nimport { createPayloadRequest } from '../../utilities/createPayloadRequest.js'\n\nexport const GET = (config: Promise<SanitizedConfig>) => async (request: Request) => {\n  const req = await createPayloadRequest({\n    config,\n    request,\n  })\n\n  if (\n    (!req.payload.config.graphQL.disable &&\n      !req.payload.config.graphQL.disablePlaygroundInProduction &&\n      process.env.NODE_ENV === 'production') ||\n    process.env.NODE_ENV !== 'production'\n  ) {\n    return new Response(\n      renderPlaygroundPage({\n        endpoint: `${req.payload.config.routes.api}${req.payload.config.routes.graphQL}`,\n        settings: {\n          'request.credentials': 'include',\n        },\n      }),\n      {\n        headers: {\n          'Content-Type': 'text/html',\n        },\n        status: 200,\n      },\n    )\n  } else {\n    return new Response('Route Not Found', { status: 404 })\n  }\n}\n"],"names":["renderPlaygroundPage","createPayloadRequest","GET","config","request","req","payload","graphQL","disable","disablePlaygroundInProduction","process","env","NODE_ENV","Response","endpoint","routes","api","settings","headers","status"],"mappings":"AAEA,SAASA,oBAAoB,QAAQ,0BAAyB;AAE9D,SAASC,oBAAoB,QAAQ,0CAAyC;AAE9E,OAAO,MAAMC,MAAM,CAACC,SAAqC,OAAOC;QAC9D,MAAMC,MAAM,MAAMJ,qBAAqB;YACrCE;YACAC;QACF;QAEA,IACE,AAAC,CAACC,IAAIC,OAAO,CAACH,MAAM,CAACI,OAAO,CAACC,OAAO,IAClC,CAACH,IAAIC,OAAO,CAACH,MAAM,CAACI,OAAO,CAACE,6BAA6B,IACzDC,QAAQC,GAAG,CAACC,QAAQ,KAAK,gBAC3BF,QAAQC,GAAG,CAACC,QAAQ,KAAK,cACzB;YACA,OAAO,IAAIC,SACTb,qBAAqB;gBACnBc,UAAU,CAAC,EAAET,IAAIC,OAAO,CAACH,MAAM,CAACY,MAAM,CAACC,GAAG,CAAC,EAAEX,IAAIC,OAAO,CAACH,MAAM,CAACY,MAAM,CAACR,OAAO,CAAC,CAAC;gBAChFU,UAAU;oBACR,uBAAuB;gBACzB;YACF,IACA;gBACEC,SAAS;oBACP,gBAAgB;gBAClB;gBACAC,QAAQ;YACV;QAEJ,OAAO;YACL,OAAO,IAAIN,SAAS,mBAAmB;gBAAEM,QAAQ;YAAI;QACvD;IACF,EAAC"}