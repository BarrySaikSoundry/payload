{"version":3,"sources":["../../../src/providers/EntityVisibility/index.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedCollectionConfig, SanitizedGlobalConfig, VisibleEntities } from 'payload'\n\nimport React, { createContext, useCallback, useContext } from 'react'\n\nexport type VisibleEntitiesContextType = {\n  isEntityVisible: ({\n    collectionSlug,\n    globalSlug,\n  }: {\n    collectionSlug?: SanitizedCollectionConfig['slug']\n    globalSlug?: SanitizedGlobalConfig['slug']\n  }) => boolean\n  visibleEntities: VisibleEntities\n}\n\nexport const EntityVisibilityContext = createContext({} as VisibleEntitiesContextType)\n\nexport const EntityVisibilityProvider: React.FC<{\n  children: React.ReactNode\n  visibleEntities?: VisibleEntities\n}> = ({ children, visibleEntities }) => {\n  const isEntityVisible = useCallback(\n    ({\n      collectionSlug,\n      globalSlug,\n    }: {\n      collectionSlug: SanitizedCollectionConfig['slug']\n      globalSlug: SanitizedGlobalConfig['slug']\n    }) => {\n      if (collectionSlug) {\n        return visibleEntities.collections.includes(collectionSlug)\n      }\n\n      if (globalSlug) {\n        return visibleEntities.globals.includes(globalSlug)\n      }\n\n      return false\n    },\n    [visibleEntities],\n  )\n\n  return (\n    <EntityVisibilityContext.Provider value={{ isEntityVisible, visibleEntities }}>\n      {children}\n    </EntityVisibilityContext.Provider>\n  )\n}\n\nexport const useEntityVisibility = (): VisibleEntitiesContextType =>\n  useContext(EntityVisibilityContext)\n"],"names":["React","createContext","useCallback","useContext","EntityVisibilityContext","EntityVisibilityProvider","children","visibleEntities","isEntityVisible","collectionSlug","globalSlug","collections","includes","globals","Provider","value","useEntityVisibility"],"mappings":"AAAA;;AAGA,OAAOA,SAASC,aAAa,EAAEC,WAAW,EAAEC,UAAU,QAAQ,QAAO;AAarE,OAAO,MAAMC,wCAA0BH,cAAc,CAAC,GAAgC;AAEtF,OAAO,MAAMI,2BAGR,CAAC,EAAEC,QAAQ,EAAEC,eAAe,EAAE;IACjC,MAAMC,kBAAkBN,YACtB,CAAC,EACCO,cAAc,EACdC,UAAU,EAIX;QACC,IAAID,gBAAgB;YAClB,OAAOF,gBAAgBI,WAAW,CAACC,QAAQ,CAACH;QAC9C;QAEA,IAAIC,YAAY;YACd,OAAOH,gBAAgBM,OAAO,CAACD,QAAQ,CAACF;QAC1C;QAEA,OAAO;IACT,GACA;QAACH;KAAgB;IAGnB,qBACE,KAACH,wBAAwBU,QAAQ;QAACC,OAAO;YAAEP;YAAiBD;QAAgB;kBACzED;;AAGP,EAAC;AAED,OAAO,MAAMU,sBAAsB,IACjCb,WAAWC,yBAAwB"}