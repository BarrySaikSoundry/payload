{"version":3,"sources":["../../../../src/providers/ComponentMap/buildComponentMap/actions.tsx"],"sourcesContent":["import type { SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport React from 'react'\n\nimport type { WithServerSidePropsPrePopulated } from './index.js'\nimport type { ActionMap } from './types.js'\n\nexport const mapActions = (args: {\n  WithServerSideProps: WithServerSidePropsPrePopulated\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n}): ActionMap => {\n  const { WithServerSideProps, collectionConfig, globalConfig } = args\n\n  const editViews = (collectionConfig || globalConfig)?.admin?.components?.views?.Edit\n\n  const listActions =\n    typeof collectionConfig?.admin?.components?.views?.List === 'object'\n      ? collectionConfig?.admin?.components?.views?.List?.actions\n      : undefined\n\n  const result: ActionMap = {\n    Edit: {},\n    List: [],\n  }\n\n  if (editViews) {\n    Object.entries(editViews).forEach(([key, view]) => {\n      if (typeof view === 'object' && 'actions' in view) {\n        view.actions.forEach((action) => {\n          const Action = action\n          if (typeof Action === 'function') {\n            result.Edit[key] = [\n              ...(result[key] || []),\n              <WithServerSideProps Component={Action} key={key} />,\n            ]\n          }\n        })\n      }\n    })\n  }\n\n  if (listActions) {\n    listActions.forEach((action, i) => {\n      const Action = action\n      if (typeof Action === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        result.List = [...result.List, <WithServerSideProps Component={Action} key={i} />]\n      }\n    })\n  }\n\n  return result\n}\n"],"names":["React","mapActions","args","WithServerSideProps","collectionConfig","globalConfig","editViews","admin","components","views","Edit","listActions","List","actions","undefined","result","Object","entries","forEach","key","view","action","Action","Component","i"],"mappings":";AAEA,OAAOA,WAAW,QAAO;AAKzB,OAAO,MAAMC,aAAa,CAACC;IAKzB,MAAM,EAAEC,mBAAmB,EAAEC,gBAAgB,EAAEC,YAAY,EAAE,GAAGH;IAEhE,MAAMI,YAAaF,CAAAA,oBAAoBC,YAAW,GAAIE,OAAOC,YAAYC,OAAOC;IAEhF,MAAMC,cACJ,OAAOP,kBAAkBG,OAAOC,YAAYC,OAAOG,SAAS,WACxDR,kBAAkBG,OAAOC,YAAYC,OAAOG,MAAMC,UAClDC;IAEN,MAAMC,SAAoB;QACxBL,MAAM,CAAC;QACPE,MAAM,EAAE;IACV;IAEA,IAAIN,WAAW;QACbU,OAAOC,OAAO,CAACX,WAAWY,OAAO,CAAC,CAAC,CAACC,KAAKC,KAAK;YAC5C,IAAI,OAAOA,SAAS,YAAY,aAAaA,MAAM;gBACjDA,KAAKP,OAAO,CAACK,OAAO,CAAC,CAACG;oBACpB,MAAMC,SAASD;oBACf,IAAI,OAAOC,WAAW,YAAY;wBAChCP,OAAOL,IAAI,CAACS,IAAI,GAAG;+BACbJ,MAAM,CAACI,IAAI,IAAI,EAAE;0CACrB,KAAChB;gCAAoBoB,WAAWD;+BAAaH;yBAC9C;oBACH;gBACF;YACF;QACF;IACF;IAEA,IAAIR,aAAa;QACfA,YAAYO,OAAO,CAAC,CAACG,QAAQG;YAC3B,MAAMF,SAASD;YACf,IAAI,OAAOC,WAAW,YAAY;gBAChC,mEAAmE;gBACnEP,OAAOH,IAAI,GAAG;uBAAIG,OAAOH,IAAI;kCAAE,KAACT;wBAAoBoB,WAAWD;uBAAaE;iBAAM;YACpF;QACF;IACF;IAEA,OAAOT;AACT,EAAC"}