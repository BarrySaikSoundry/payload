{"version":3,"sources":["../../src/hooks/useResize.ts"],"sourcesContent":["'use client'\nimport type React from 'react'\n\nimport { useEffect, useState } from 'react'\n\ninterface Size {\n  height: number\n  width: number\n}\n\ninterface Resize {\n  size?: Size\n}\n\nexport const useResize = (element: HTMLElement): Resize => {\n  const [size, setSize] = useState<Size>()\n\n  useEffect(() => {\n    let observer: any // eslint-disable-line\n\n    if (element) {\n      observer = new ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          const {\n            contentBoxSize,\n            contentRect, // for Safari iOS compatibility, will be deprecated eventually (see https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserverEntry/contentRect)\n          } = entry\n\n          let newWidth = 0\n          let newHeight = 0\n\n          if (contentBoxSize) {\n            const newSize = Array.isArray(contentBoxSize) ? contentBoxSize[0] : contentBoxSize\n\n            if (newSize) {\n              const { blockSize, inlineSize } = newSize\n              newWidth = inlineSize\n              newHeight = blockSize\n            }\n          } else if (contentRect) {\n            // see note above for why this block is needed\n            const { height, width } = contentRect\n            newWidth = width\n            newHeight = height\n          }\n\n          setSize({\n            height: newHeight,\n            width: newWidth,\n          })\n        })\n      })\n\n      observer.observe(element)\n    }\n\n    return () => {\n      if (observer) {\n        observer.unobserve(element)\n      }\n    }\n  }, [element])\n\n  return {\n    size,\n  }\n}\n"],"names":["useEffect","useState","useResize","element","size","setSize","observer","ResizeObserver","entries","forEach","entry","contentBoxSize","contentRect","newWidth","newHeight","newSize","Array","isArray","blockSize","inlineSize","height","width","observe","unobserve"],"mappings":"AAAA;AAGA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,QAAO;AAW3C,OAAO,MAAMC,YAAY,CAACC;IACxB,MAAM,CAACC,MAAMC,QAAQ,GAAGJ;IAExBD,UAAU;QACR,IAAIM,QAAc,sBAAsB;;QAExC,IAAIH,SAAS;YACXG,WAAW,IAAIC,eAAe,CAACC;gBAC7BA,QAAQC,OAAO,CAAC,CAACC;oBACf,MAAM,EACJC,cAAc,EACdC,WAAW,EACZ,GAAGF;oBAEJ,IAAIG,WAAW;oBACf,IAAIC,YAAY;oBAEhB,IAAIH,gBAAgB;wBAClB,MAAMI,UAAUC,MAAMC,OAAO,CAACN,kBAAkBA,cAAc,CAAC,EAAE,GAAGA;wBAEpE,IAAII,SAAS;4BACX,MAAM,EAAEG,SAAS,EAAEC,UAAU,EAAE,GAAGJ;4BAClCF,WAAWM;4BACXL,YAAYI;wBACd;oBACF,OAAO,IAAIN,aAAa;wBACtB,8CAA8C;wBAC9C,MAAM,EAAEQ,MAAM,EAAEC,KAAK,EAAE,GAAGT;wBAC1BC,WAAWQ;wBACXP,YAAYM;oBACd;oBAEAf,QAAQ;wBACNe,QAAQN;wBACRO,OAAOR;oBACT;gBACF;YACF;YAEAP,SAASgB,OAAO,CAACnB;QACnB;QAEA,OAAO;YACL,IAAIG,UAAU;gBACZA,SAASiB,SAAS,CAACpB;YACrB;QACF;IACF,GAAG;QAACA;KAAQ;IAEZ,OAAO;QACLC;IACF;AACF,EAAC"}