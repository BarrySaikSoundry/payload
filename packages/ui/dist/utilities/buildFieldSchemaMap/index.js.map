{"version":3,"sources":["../../../src/utilities/buildFieldSchemaMap/index.ts"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { SanitizedConfig } from 'payload'\n\nimport type { FieldSchemaMap } from './types.js'\n\nimport { traverseFields } from './traverseFields.js'\n\nexport const buildFieldSchemaMap = (args: {\n  config: SanitizedConfig\n  i18n: I18n\n}): FieldSchemaMap => {\n  const { config, i18n } = args\n\n  const result: FieldSchemaMap = new Map()\n\n  config.collections.forEach((collection) => {\n    traverseFields({\n      config,\n      fields: collection.fields,\n      i18n,\n      schemaMap: result,\n      schemaPath: collection.slug,\n    })\n  })\n\n  config.globals.forEach((global) => {\n    traverseFields({\n      config,\n      fields: global.fields,\n      i18n,\n      schemaMap: result,\n      schemaPath: global.slug,\n    })\n  })\n\n  return result\n}\n"],"names":["traverseFields","buildFieldSchemaMap","args","config","i18n","result","Map","collections","forEach","collection","fields","schemaMap","schemaPath","slug","globals","global"],"mappings":"AAKA,SAASA,cAAc,QAAQ,sBAAqB;AAEpD,OAAO,MAAMC,sBAAsB,CAACC;IAIlC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAE,GAAGF;IAEzB,MAAMG,SAAyB,IAAIC;IAEnCH,OAAOI,WAAW,CAACC,OAAO,CAAC,CAACC;QAC1BT,eAAe;YACbG;YACAO,QAAQD,WAAWC,MAAM;YACzBN;YACAO,WAAWN;YACXO,YAAYH,WAAWI,IAAI;QAC7B;IACF;IAEAV,OAAOW,OAAO,CAACN,OAAO,CAAC,CAACO;QACtBf,eAAe;YACbG;YACAO,QAAQK,OAAOL,MAAM;YACrBN;YACAO,WAAWN;YACXO,YAAYG,OAAOF,IAAI;QACzB;IACF;IAEA,OAAOR;AACT,EAAC"}