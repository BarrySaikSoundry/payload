{"version":3,"sources":["../../../src/elements/StepNav/index.tsx"],"sourcesContent":["'use client'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport React, { Fragment } from 'react'\n\nimport { PayloadIcon } from '../../graphics/Icon/index.js'\nimport { useConfig } from '../../providers/Config/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { StepNavProvider, useStepNav } from './context.js'\nimport './index.scss'\nexport { SetStepNav } from './SetStepNav.js'\nimport type { StepNavItem } from './types.js'\n\nimport { useComponentMap } from '../../providers/ComponentMap/index.js'\n\nconst baseClass = 'step-nav'\n\nconst StepNav: React.FC<{\n  Link?: React.ComponentType\n  className?: string\n}> = ({ Link, className }) => {\n  const { i18n } = useTranslation()\n\n  const { stepNav } = useStepNav()\n\n  const config = useConfig()\n\n  const {\n    routes: { admin },\n  } = config\n\n  const { componentMap } = useComponentMap()\n\n  const { t } = useTranslation()\n\n  const Icon = componentMap?.Icon || <PayloadIcon />\n\n  const LinkElement = Link || 'a'\n\n  return (\n    <Fragment>\n      {stepNav.length > 0 ? (\n        <nav className={[baseClass, className].filter(Boolean).join(' ')}>\n          <LinkElement className={`${baseClass}__home`} href={admin} tabIndex={0}>\n            <span title={t('general:dashboard')}>{Icon}</span>\n          </LinkElement>\n          <span>/</span>\n          {stepNav.map((item, i) => {\n            const StepLabel = getTranslation(item.label, i18n)\n            const isLast = stepNav.length === i + 1\n\n            const Step = isLast ? (\n              <span className={`${baseClass}__last`} key={i}>\n                {StepLabel}\n              </span>\n            ) : (\n              <Fragment key={i}>\n                {item.url ? (\n                  <LinkElement href={item.url}>\n                    <span key={i}>{StepLabel}</span>\n                  </LinkElement>\n                ) : (\n                  <span key={i}>{StepLabel}</span>\n                )}\n                <span>/</span>\n              </Fragment>\n            )\n\n            return Step\n          })}\n        </nav>\n      ) : (\n        <div className={[baseClass, className].filter(Boolean).join(' ')}>\n          <div className={`${baseClass}__home`}>\n            <span title={t('general:dashboard')}>{Icon}</span>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  )\n}\n\nexport { StepNav, StepNavItem, StepNavProvider, useStepNav }\n"],"names":["getTranslation","React","Fragment","PayloadIcon","useConfig","useTranslation","StepNavProvider","useStepNav","SetStepNav","useComponentMap","baseClass","StepNav","Link","className","i18n","stepNav","config","routes","admin","componentMap","t","Icon","LinkElement","length","nav","filter","Boolean","join","href","tabIndex","span","title","map","item","i","StepLabel","label","isLast","Step","url","div"],"mappings":"AAAA;;AAEA,SAASA,cAAc,QAAQ,2BAA0B;AACzD,OAAOC,SAASC,QAAQ,QAAQ,QAAO;AAEvC,SAASC,WAAW,QAAQ,+BAA8B;AAC1D,SAASC,SAAS,QAAQ,kCAAiC;AAC3D,SAASC,cAAc,QAAQ,uCAAsC;AACrE,SAASC,eAAe,EAAEC,UAAU,QAAQ,eAAc;AAC1D,OAAO,eAAc;AACrB,SAASC,UAAU,QAAQ,kBAAiB;AAG5C,SAASC,eAAe,QAAQ,wCAAuC;AAEvE,MAAMC,YAAY;AAElB,MAAMC,UAGD,CAAC,EAAEC,IAAI,EAAEC,SAAS,EAAE;IACvB,MAAM,EAAEC,IAAI,EAAE,GAAGT;IAEjB,MAAM,EAAEU,OAAO,EAAE,GAAGR;IAEpB,MAAMS,SAASZ;IAEf,MAAM,EACJa,QAAQ,EAAEC,KAAK,EAAE,EAClB,GAAGF;IAEJ,MAAM,EAAEG,YAAY,EAAE,GAAGV;IAEzB,MAAM,EAAEW,CAAC,EAAE,GAAGf;IAEd,MAAMgB,OAAOF,cAAcE,sBAAQ,KAAClB;IAEpC,MAAMmB,cAAcV,QAAQ;IAE5B,qBACE,KAACV;kBACEa,QAAQQ,MAAM,GAAG,kBAChB,MAACC;YAAIX,WAAW;gBAACH;gBAAWG;aAAU,CAACY,MAAM,CAACC,SAASC,IAAI,CAAC;;8BAC1D,KAACL;oBAAYT,WAAW,CAAC,EAAEH,UAAU,MAAM,CAAC;oBAAEkB,MAAMV;oBAAOW,UAAU;8BACnE,cAAA,KAACC;wBAAKC,OAAOX,EAAE;kCAAuBC;;;8BAExC,KAACS;8BAAK;;gBACLf,QAAQiB,GAAG,CAAC,CAACC,MAAMC;oBAClB,MAAMC,YAAYnC,eAAeiC,KAAKG,KAAK,EAAEtB;oBAC7C,MAAMuB,SAAStB,QAAQQ,MAAM,KAAKW,IAAI;oBAEtC,MAAMI,OAAOD,uBACX,KAACP;wBAAKjB,WAAW,CAAC,EAAEH,UAAU,MAAM,CAAC;kCAClCyB;uBADyCD,mBAI5C,MAAChC;;4BACE+B,KAAKM,GAAG,iBACP,KAACjB;gCAAYM,MAAMK,KAAKM,GAAG;0CACzB,cAAA,KAACT;8CAAcK;mCAAJD;+CAGb,KAACJ;0CAAcK;+BAAJD;0CAEb,KAACJ;0CAAK;;;uBAROI;oBAYjB,OAAOI;gBACT;;2BAGF,KAACE;YAAI3B,WAAW;gBAACH;gBAAWG;aAAU,CAACY,MAAM,CAACC,SAASC,IAAI,CAAC;sBAC1D,cAAA,KAACa;gBAAI3B,WAAW,CAAC,EAAEH,UAAU,MAAM,CAAC;0BAClC,cAAA,KAACoB;oBAAKC,OAAOX,EAAE;8BAAuBC;;;;;AAMlD;AAEA,SAASV,OAAO,EAAeL,eAAe,EAAEC,UAAU,GAAE"}