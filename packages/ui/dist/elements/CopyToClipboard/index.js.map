{"version":3,"sources":["../../../src/elements/CopyToClipboard/index.tsx"],"sourcesContent":["'use client'\nimport React, { useRef, useState } from 'react'\n\nimport { CopyIcon } from '../../icons/Copy/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { Tooltip } from '../Tooltip/index.js'\nimport './index.scss'\n\nconst baseClass = 'copy-to-clipboard'\n\nexport type Props = {\n  defaultMessage?: string\n  successMessage?: string\n  value?: string\n}\n\nexport const CopyToClipboard: React.FC<Props> = ({ defaultMessage, successMessage, value }) => {\n  const ref = useRef(null)\n  const [copied, setCopied] = useState(false)\n  const [hovered, setHovered] = useState(false)\n  const { t } = useTranslation()\n\n  if (value) {\n    return (\n      <button\n        className={baseClass}\n        onClick={() => {\n          if (ref && ref.current) {\n            ref.current.select()\n            ref.current.setSelectionRange(0, value.length + 1)\n            document.execCommand('copy')\n            setCopied(true)\n          }\n        }}\n        onMouseEnter={() => {\n          setHovered(true)\n          setCopied(false)\n        }}\n        onMouseLeave={() => {\n          setHovered(false)\n          setCopied(false)\n        }}\n        type=\"button\"\n      >\n        <CopyIcon />\n        <Tooltip delay={copied ? 0 : undefined} show={hovered || copied}>\n          {copied && (successMessage ?? t('general:copied'))}\n          {!copied && (defaultMessage ?? t('general:copy'))}\n        </Tooltip>\n        <textarea readOnly ref={ref} tabIndex={-1} value={value} />\n      </button>\n    )\n  }\n\n  return null\n}\n"],"names":["React","useRef","useState","CopyIcon","useTranslation","Tooltip","baseClass","CopyToClipboard","defaultMessage","successMessage","value","ref","copied","setCopied","hovered","setHovered","t","button","className","onClick","current","select","setSelectionRange","length","document","execCommand","onMouseEnter","onMouseLeave","type","delay","undefined","show","textarea","readOnly","tabIndex"],"mappings":"AAAA;;AACA,OAAOA,SAASC,MAAM,EAAEC,QAAQ,QAAQ,QAAO;AAE/C,SAASC,QAAQ,QAAQ,4BAA2B;AACpD,SAASC,cAAc,QAAQ,uCAAsC;AACrE,SAASC,OAAO,QAAQ,sBAAqB;AAC7C,OAAO,eAAc;AAErB,MAAMC,YAAY;AAQlB,OAAO,MAAMC,kBAAmC,CAAC,EAAEC,cAAc,EAAEC,cAAc,EAAEC,KAAK,EAAE;IACxF,MAAMC,MAAMV,OAAO;IACnB,MAAM,CAACW,QAAQC,UAAU,GAAGX,SAAS;IACrC,MAAM,CAACY,SAASC,WAAW,GAAGb,SAAS;IACvC,MAAM,EAAEc,CAAC,EAAE,GAAGZ;IAEd,IAAIM,OAAO;QACT,qBACE,MAACO;YACCC,WAAWZ;YACXa,SAAS;gBACP,IAAIR,OAAOA,IAAIS,OAAO,EAAE;oBACtBT,IAAIS,OAAO,CAACC,MAAM;oBAClBV,IAAIS,OAAO,CAACE,iBAAiB,CAAC,GAAGZ,MAAMa,MAAM,GAAG;oBAChDC,SAASC,WAAW,CAAC;oBACrBZ,UAAU;gBACZ;YACF;YACAa,cAAc;gBACZX,WAAW;gBACXF,UAAU;YACZ;YACAc,cAAc;gBACZZ,WAAW;gBACXF,UAAU;YACZ;YACAe,MAAK;;8BAEL,KAACzB;8BACD,MAACE;oBAAQwB,OAAOjB,SAAS,IAAIkB;oBAAWC,MAAMjB,WAAWF;;wBACtDA,UAAWH,CAAAA,kBAAkBO,EAAE,iBAAgB;wBAC/C,CAACJ,UAAWJ,CAAAA,kBAAkBQ,EAAE,eAAc;;;8BAEjD,KAACgB;oBAASC,QAAQ;oBAACtB,KAAKA;oBAAKuB,UAAU,CAAC;oBAAGxB,OAAOA;;;;IAGxD;IAEA,OAAO;AACT,EAAC"}