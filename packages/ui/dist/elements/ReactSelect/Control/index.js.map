{"version":3,"sources":["../../../../src/elements/ReactSelect/Control/index.tsx"],"sourcesContent":["'use client'\nimport type { ControlProps } from 'react-select'\n\nimport React from 'react'\nimport { components as SelectComponents } from 'react-select'\n\nimport type { Option } from '../types.js'\n\nexport const Control: React.FC<ControlProps<Option, any>> = (props) => {\n  const {\n    children,\n    innerProps,\n    // @ts-expect-error-next-line // TODO Fix this - moduleResolution 16 breaks our declare module\n    selectProps: { customProps: { disableKeyDown, disableMouseDown } = {} } = {},\n  } = props\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error // TODO Fix this - Broke with React 19 types */}\n      <SelectComponents.Control\n        {...props}\n        innerProps={{\n          ...innerProps,\n          onKeyDown: (e) => {\n            if (disableKeyDown) {\n              e.stopPropagation()\n              // Create event for keydown listeners which specifically want to bypass this stopPropagation\n              const bypassEvent = new CustomEvent('bypassKeyDown', { detail: e })\n              document.dispatchEvent(bypassEvent)\n            }\n          },\n          // react-select has this typed incorrectly so we disable the linting rule\n          // we need to prevent react-select from hijacking the 'onKeyDown' event while modals are open (i.e. the 'Relationship' field component)\n\n          onMouseDown: (e) => {\n            // we need to prevent react-select from hijacking the 'onMouseDown' event while modals are open (i.e. the 'Relationship' field component)\n            if (!disableMouseDown) {\n              innerProps.onMouseDown(e)\n            }\n          },\n        }}\n      >\n        {children}\n      </SelectComponents.Control>\n    </React.Fragment>\n  )\n}\n"],"names":["React","components","SelectComponents","Control","props","children","innerProps","selectProps","customProps","disableKeyDown","disableMouseDown","Fragment","onKeyDown","e","stopPropagation","bypassEvent","CustomEvent","detail","document","dispatchEvent","onMouseDown"],"mappings":"AAAA;;AAGA,OAAOA,WAAW,QAAO;AACzB,SAASC,cAAcC,gBAAgB,QAAQ,eAAc;AAI7D,OAAO,MAAMC,UAA+C,CAACC;IAC3D,MAAM,EACJC,QAAQ,EACRC,UAAU,EACV,8FAA8F;IAC9FC,aAAa,EAAEC,aAAa,EAAEC,cAAc,EAAEC,gBAAgB,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAC7E,GAAGN;IAEJ,qBACE,KAACJ,MAAMW,QAAQ;kBAEb,cAAA,KAACT,iBAAiBC,OAAO;YACtB,GAAGC,KAAK;YACTE,YAAY;gBACV,GAAGA,UAAU;gBACbM,WAAW,CAACC;oBACV,IAAIJ,gBAAgB;wBAClBI,EAAEC,eAAe;wBACjB,4FAA4F;wBAC5F,MAAMC,cAAc,IAAIC,YAAY,iBAAiB;4BAAEC,QAAQJ;wBAAE;wBACjEK,SAASC,aAAa,CAACJ;oBACzB;gBACF;gBACA,yEAAyE;gBACzE,uIAAuI;gBAEvIK,aAAa,CAACP;oBACZ,yIAAyI;oBACzI,IAAI,CAACH,kBAAkB;wBACrBJ,WAAWc,WAAW,CAACP;oBACzB;gBACF;YACF;sBAECR;;;AAIT,EAAC"}