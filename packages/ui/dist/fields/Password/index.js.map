{"version":3,"sources":["../../../src/fields/Password/index.tsx"],"sourcesContent":["'use client'\nimport type { ClientValidate, Description, Validate } from 'payload'\n\nimport React, { useCallback } from 'react'\n\nimport type { FormFieldBase } from '../shared/index.js'\n\nimport { useField } from '../../forms/useField/index.js'\nimport { withCondition } from '../../forms/withCondition/index.js'\nimport { FieldError } from '../FieldError/index.js'\nimport { FieldLabel } from '../FieldLabel/index.js'\nimport { fieldBaseClass } from '../shared/index.js'\nimport './index.scss'\n\nexport type PasswordFieldProps = {\n  autoComplete?: string\n  className?: string\n  description?: Description\n  disabled?: boolean\n  name: string\n  path?: string\n  required?: boolean\n  style?: React.CSSProperties\n  validate?: Validate\n  width?: string\n} & FormFieldBase\n\nconst _PasswordField: React.FC<PasswordFieldProps> = (props) => {\n  const {\n    name,\n    CustomError,\n    CustomLabel,\n    autoComplete,\n    className,\n    disabled: disabledFromProps,\n    errorProps,\n    label,\n    labelProps,\n    path: pathFromProps,\n    required,\n    style,\n    validate,\n    width,\n  } = props\n\n  const memoizedValidate: ClientValidate = useCallback(\n    (value, options) => {\n      if (typeof validate === 'function') {\n        return validate(value, { ...options, required })\n      }\n    },\n    [validate, required],\n  )\n\n  const { formInitializing, formProcessing, path, setValue, showError, value } = useField({\n    path: pathFromProps || name,\n    validate: memoizedValidate,\n  })\n\n  const disabled = disabledFromProps || formInitializing || formProcessing\n\n  return (\n    <div\n      className={[\n        fieldBaseClass,\n        'password',\n        className,\n        showError && 'error',\n        disabled && 'read-only',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      style={{\n        ...style,\n        width,\n      }}\n    >\n      <FieldLabel\n        CustomLabel={CustomLabel}\n        label={label}\n        required={required}\n        {...(labelProps || {})}\n      />\n      <div className={`${fieldBaseClass}__wrap`}>\n        <FieldError CustomError={CustomError} path={path} {...(errorProps || {})} />\n        <input\n          autoComplete={autoComplete}\n          disabled={disabled}\n          id={`field-${path.replace(/\\./g, '__')}`}\n          name={path}\n          onChange={setValue}\n          type=\"password\"\n          value={(value as string) || ''}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport const PasswordField = withCondition(_PasswordField)\n"],"names":["React","useCallback","useField","withCondition","FieldError","FieldLabel","fieldBaseClass","_PasswordField","props","name","CustomError","CustomLabel","autoComplete","className","disabled","disabledFromProps","errorProps","label","labelProps","path","pathFromProps","required","style","validate","width","memoizedValidate","value","options","formInitializing","formProcessing","setValue","showError","div","filter","Boolean","join","input","id","replace","onChange","type","PasswordField"],"mappings":"AAAA;;AAGA,OAAOA,SAASC,WAAW,QAAQ,QAAO;AAI1C,SAASC,QAAQ,QAAQ,gCAA+B;AACxD,SAASC,aAAa,QAAQ,qCAAoC;AAClE,SAASC,UAAU,QAAQ,yBAAwB;AACnD,SAASC,UAAU,QAAQ,yBAAwB;AACnD,SAASC,cAAc,QAAQ,qBAAoB;AACnD,OAAO,eAAc;AAerB,MAAMC,iBAA+C,CAACC;IACpD,MAAM,EACJC,IAAI,EACJC,WAAW,EACXC,WAAW,EACXC,YAAY,EACZC,SAAS,EACTC,UAAUC,iBAAiB,EAC3BC,UAAU,EACVC,KAAK,EACLC,UAAU,EACVC,MAAMC,aAAa,EACnBC,QAAQ,EACRC,KAAK,EACLC,QAAQ,EACRC,KAAK,EACN,GAAGhB;IAEJ,MAAMiB,mBAAmCxB,YACvC,CAACyB,OAAOC;QACN,IAAI,OAAOJ,aAAa,YAAY;YAClC,OAAOA,SAASG,OAAO;gBAAE,GAAGC,OAAO;gBAAEN;YAAS;QAChD;IACF,GACA;QAACE;QAAUF;KAAS;IAGtB,MAAM,EAAEO,gBAAgB,EAAEC,cAAc,EAAEV,IAAI,EAAEW,QAAQ,EAAEC,SAAS,EAAEL,KAAK,EAAE,GAAGxB,SAAS;QACtFiB,MAAMC,iBAAiBX;QACvBc,UAAUE;IACZ;IAEA,MAAMX,WAAWC,qBAAqBa,oBAAoBC;IAE1D,qBACE,MAACG;QACCnB,WAAW;YACTP;YACA;YACAO;YACAkB,aAAa;YACbjB,YAAY;SACb,CACEmB,MAAM,CAACC,SACPC,IAAI,CAAC;QACRb,OAAO;YACL,GAAGA,KAAK;YACRE;QACF;;0BAEA,KAACnB;gBACCM,aAAaA;gBACbM,OAAOA;gBACPI,UAAUA;gBACT,GAAIH,cAAc,CAAC,CAAC;;0BAEvB,MAACc;gBAAInB,WAAW,CAAC,EAAEP,eAAe,MAAM,CAAC;;kCACvC,KAACF;wBAAWM,aAAaA;wBAAaS,MAAMA;wBAAO,GAAIH,cAAc,CAAC,CAAC;;kCACvE,KAACoB;wBACCxB,cAAcA;wBACdE,UAAUA;wBACVuB,IAAI,CAAC,MAAM,EAAElB,KAAKmB,OAAO,CAAC,OAAO,MAAM,CAAC;wBACxC7B,MAAMU;wBACNoB,UAAUT;wBACVU,MAAK;wBACLd,OAAO,AAACA,SAAoB;;;;;;AAKtC;AAEA,OAAO,MAAMe,gBAAgBtC,cAAcI,gBAAe"}