{"version":3,"sources":["../../../src/fields/Hidden/index.tsx"],"sourcesContent":["'use client'\nimport React, { useEffect } from 'react'\n\nimport type { FormFieldBase } from '../index.js'\n\nimport { useFieldProps } from '../../forms/FieldPropsProvider/index.js'\nimport { useField } from '../../forms/useField/index.js'\nimport { withCondition } from '../../forms/withCondition/index.js'\n\nexport type HiddenInputFieldProps = {\n  disableModifyingForm?: false\n  forceUsePathFromProps?: boolean\n  name?: string\n  path?: string\n  value?: unknown\n} & FormFieldBase\n\n/**\n * This is mainly used to save a value on the form that is not visible to the user.\n * For example, this sets the `Ã¬d` property of a block in the Blocks field.\n */\nconst _HiddenField: React.FC<HiddenInputFieldProps> = (props) => {\n  const {\n    name,\n    disableModifyingForm = true,\n    forceUsePathFromProps,\n    path: pathFromProps,\n    value: valueFromProps,\n  } = props\n\n  const { path: pathFromContext } = useFieldProps()\n\n  const { path, setValue, value } = useField({\n    path: (!forceUsePathFromProps ? pathFromContext : null) || pathFromProps || name,\n  })\n\n  useEffect(() => {\n    if (valueFromProps !== undefined) {\n      setValue(valueFromProps, disableModifyingForm)\n    }\n  }, [valueFromProps, setValue, disableModifyingForm])\n\n  return (\n    <input\n      id={`field-${path?.replace(/\\./g, '__')}`}\n      name={path}\n      onChange={setValue}\n      type=\"hidden\"\n      value={(value as string) || ''}\n    />\n  )\n}\n\nexport const HiddenField = withCondition(_HiddenField)\n"],"names":["React","useEffect","useFieldProps","useField","withCondition","_HiddenField","props","name","disableModifyingForm","forceUsePathFromProps","path","pathFromProps","value","valueFromProps","pathFromContext","setValue","undefined","input","id","replace","onChange","type","HiddenField"],"mappings":"AAAA;;AACA,OAAOA,SAASC,SAAS,QAAQ,QAAO;AAIxC,SAASC,aAAa,QAAQ,0CAAyC;AACvE,SAASC,QAAQ,QAAQ,gCAA+B;AACxD,SAASC,aAAa,QAAQ,qCAAoC;AAUlE;;;CAGC,GACD,MAAMC,eAAgD,CAACC;IACrD,MAAM,EACJC,IAAI,EACJC,uBAAuB,IAAI,EAC3BC,qBAAqB,EACrBC,MAAMC,aAAa,EACnBC,OAAOC,cAAc,EACtB,GAAGP;IAEJ,MAAM,EAAEI,MAAMI,eAAe,EAAE,GAAGZ;IAElC,MAAM,EAAEQ,IAAI,EAAEK,QAAQ,EAAEH,KAAK,EAAE,GAAGT,SAAS;QACzCO,MAAM,AAAC,CAAA,CAACD,wBAAwBK,kBAAkB,IAAG,KAAMH,iBAAiBJ;IAC9E;IAEAN,UAAU;QACR,IAAIY,mBAAmBG,WAAW;YAChCD,SAASF,gBAAgBL;QAC3B;IACF,GAAG;QAACK;QAAgBE;QAAUP;KAAqB;IAEnD,qBACE,KAACS;QACCC,IAAI,CAAC,MAAM,EAAER,MAAMS,QAAQ,OAAO,MAAM,CAAC;QACzCZ,MAAMG;QACNU,UAAUL;QACVM,MAAK;QACLT,OAAO,AAACA,SAAoB;;AAGlC;AAEA,OAAO,MAAMU,cAAclB,cAAcC,cAAa"}