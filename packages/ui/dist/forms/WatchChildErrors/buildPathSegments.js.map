{"version":3,"sources":["../../../src/forms/WatchChildErrors/buildPathSegments.ts"],"sourcesContent":["import type { FieldMap } from '../../providers/ComponentMap/buildComponentMap/types.js'\n\nexport const buildPathSegments = (parentPath: string, fieldMap: FieldMap): string[] => {\n  const pathNames = fieldMap.reduce((acc, field) => {\n    const fieldMap =\n      'fieldMap' in field.fieldComponentProps ? field.fieldComponentProps.fieldMap : undefined\n\n    if (fieldMap) {\n      if (field.isFieldAffectingData) {\n        // group, block, array\n        const name = 'name' in field ? field.name : 'unnamed'\n        acc.push(parentPath ? `${parentPath}.${name}.` : `${name}.`)\n      } else {\n        // rows, collapsibles, unnamed-tab\n        acc.push(...buildPathSegments(parentPath, fieldMap))\n      }\n    } else if (field.type === 'tabs') {\n      // tabs\n      if ('tabs' in field.fieldComponentProps) {\n        field.fieldComponentProps.tabs?.forEach((tab) => {\n          let tabPath = parentPath\n          if ('name' in tab) {\n            tabPath = parentPath ? `${parentPath}.${tab.name}` : tab.name\n          }\n          acc.push(...buildPathSegments(tabPath, tab.fieldMap))\n        })\n      }\n    } else if (field.isFieldAffectingData) {\n      // text, number, date, etc.\n      const name = 'name' in field ? field.name : 'unnamed'\n      acc.push(parentPath ? `${parentPath}.${name}` : name)\n    }\n\n    return acc\n  }, [])\n\n  return pathNames\n}\n"],"names":["buildPathSegments","parentPath","fieldMap","pathNames","reduce","acc","field","fieldComponentProps","undefined","isFieldAffectingData","name","push","type","tabs","forEach","tab","tabPath"],"mappings":"AAEA,OAAO,MAAMA,oBAAoB,CAACC,YAAoBC;IACpD,MAAMC,YAAYD,SAASE,MAAM,CAAC,CAACC,KAAKC;QACtC,MAAMJ,WACJ,cAAcI,MAAMC,mBAAmB,GAAGD,MAAMC,mBAAmB,CAACL,QAAQ,GAAGM;QAEjF,IAAIN,UAAU;YACZ,IAAII,MAAMG,oBAAoB,EAAE;gBAC9B,sBAAsB;gBACtB,MAAMC,OAAO,UAAUJ,QAAQA,MAAMI,IAAI,GAAG;gBAC5CL,IAAIM,IAAI,CAACV,aAAa,CAAC,EAAEA,WAAW,CAAC,EAAES,KAAK,CAAC,CAAC,GAAG,CAAC,EAAEA,KAAK,CAAC,CAAC;YAC7D,OAAO;gBACL,kCAAkC;gBAClCL,IAAIM,IAAI,IAAIX,kBAAkBC,YAAYC;YAC5C;QACF,OAAO,IAAII,MAAMM,IAAI,KAAK,QAAQ;YAChC,OAAO;YACP,IAAI,UAAUN,MAAMC,mBAAmB,EAAE;gBACvCD,MAAMC,mBAAmB,CAACM,IAAI,EAAEC,QAAQ,CAACC;oBACvC,IAAIC,UAAUf;oBACd,IAAI,UAAUc,KAAK;wBACjBC,UAAUf,aAAa,CAAC,EAAEA,WAAW,CAAC,EAAEc,IAAIL,IAAI,CAAC,CAAC,GAAGK,IAAIL,IAAI;oBAC/D;oBACAL,IAAIM,IAAI,IAAIX,kBAAkBgB,SAASD,IAAIb,QAAQ;gBACrD;YACF;QACF,OAAO,IAAII,MAAMG,oBAAoB,EAAE;YACrC,2BAA2B;YAC3B,MAAMC,OAAO,UAAUJ,QAAQA,MAAMI,IAAI,GAAG;YAC5CL,IAAIM,IAAI,CAACV,aAAa,CAAC,EAAEA,WAAW,CAAC,EAAES,KAAK,CAAC,GAAGA;QAClD;QAEA,OAAOL;IACT,GAAG,EAAE;IAEL,OAAOF;AACT,EAAC"}