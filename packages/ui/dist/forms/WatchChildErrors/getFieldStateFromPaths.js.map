{"version":3,"sources":["../../../src/forms/WatchChildErrors/getFieldStateFromPaths.ts"],"sourcesContent":["import type { FormState } from 'payload'\n\nexport const getFieldStateFromPaths = ({\n  formState,\n  pathSegments,\n}: {\n  formState: FormState\n  pathSegments: string[]\n}): {\n  errorCount: number\n  fieldState: FormState\n} => {\n  const fieldState: FormState = {}\n  let errorCount = 0\n\n  Object.entries(formState).forEach(([key]) => {\n    const matchingSegment = pathSegments?.some((segment) => {\n      if (segment.endsWith('.')) {\n        return key.startsWith(segment)\n      }\n      return key === segment\n    })\n\n    if (matchingSegment) {\n      const pathState = formState[key]\n      fieldState[key] = pathState\n      if ('valid' in pathState && !pathState.valid) {\n        errorCount += 1\n      }\n    }\n  })\n\n  return {\n    errorCount,\n    fieldState,\n  }\n}\n"],"names":["getFieldStateFromPaths","formState","pathSegments","fieldState","errorCount","Object","entries","forEach","key","matchingSegment","some","segment","endsWith","startsWith","pathState","valid"],"mappings":"AAEA,OAAO,MAAMA,yBAAyB,CAAC,EACrCC,SAAS,EACTC,YAAY,EAIb;IAIC,MAAMC,aAAwB,CAAC;IAC/B,IAAIC,aAAa;IAEjBC,OAAOC,OAAO,CAACL,WAAWM,OAAO,CAAC,CAAC,CAACC,IAAI;QACtC,MAAMC,kBAAkBP,cAAcQ,KAAK,CAACC;YAC1C,IAAIA,QAAQC,QAAQ,CAAC,MAAM;gBACzB,OAAOJ,IAAIK,UAAU,CAACF;YACxB;YACA,OAAOH,QAAQG;QACjB;QAEA,IAAIF,iBAAiB;YACnB,MAAMK,YAAYb,SAAS,CAACO,IAAI;YAChCL,UAAU,CAACK,IAAI,GAAGM;YAClB,IAAI,WAAWA,aAAa,CAACA,UAAUC,KAAK,EAAE;gBAC5CX,cAAc;YAChB;QACF;IACF;IAEA,OAAO;QACLA;QACAD;IACF;AACF,EAAC"}