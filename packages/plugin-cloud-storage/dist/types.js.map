{"version":3,"sources":["../src/types.ts"],"sourcesContent":["import type {\n  CollectionConfig,\n  Field,\n  FileData,\n  ImageSize,\n  PayloadRequest,\n  TypeWithID,\n} from 'payload'\n\nexport interface File {\n  buffer: Buffer\n  filename: string\n  filesize: number\n  mimeType: string\n  tempFilePath?: string\n}\n\nexport type HandleUpload = (args: {\n  collection: CollectionConfig\n  data: any\n  file: File\n  req: PayloadRequest\n}) => Promise<void> | void\n\nexport interface TypeWithPrefix {\n  prefix?: string\n}\n\nexport type HandleDelete = (args: {\n  collection: CollectionConfig\n  doc: FileData & TypeWithID & TypeWithPrefix\n  filename: string\n  req: PayloadRequest\n}) => Promise<void> | void\n\nexport type GenerateURL = (args: {\n  collection: CollectionConfig\n  data: any\n  filename: string\n  prefix?: string\n}) => Promise<string> | string\n\nexport type StaticHandler = (\n  req: PayloadRequest,\n  args: { doc?: TypeWithID; params: { collection: string; filename: string } },\n) => Promise<Response> | Response\n\nexport interface GeneratedAdapter {\n  /**\n   * Additional fields to be injected into the base collection and image sizes\n   */\n  fields?: Field[]\n  /**\n   * Generates the public URL for a file\n   */\n  generateURL?: GenerateURL\n  handleDelete: HandleDelete\n  handleUpload: HandleUpload\n  name: string\n  onInit?: () => void\n  staticHandler: StaticHandler\n}\n\nexport type Adapter = (args: { collection: CollectionConfig; prefix?: string }) => GeneratedAdapter\n\nexport type GenerateFileURL = (args: {\n  collection: CollectionConfig\n  filename: string\n  prefix?: string\n  size?: ImageSize\n}) => Promise<string> | string\n\nexport interface CollectionOptions {\n  adapter: Adapter | null\n  disableLocalStorage?: boolean\n  disablePayloadAccessControl?: true\n  generateFileURL?: GenerateFileURL\n  prefix?: string\n}\n\nexport interface PluginOptions {\n  collections: Record<string, CollectionOptions>\n  /**\n   * Whether or not to enable the plugin\n   *\n   * Default: true\n   */\n  enabled?: boolean\n}\n"],"names":[],"mappings":"AAgFA,WAQC"}