{"version":3,"sources":["../../src/fields/getFields.ts"],"sourcesContent":["import type { CollectionConfig, Field } from 'payload'\n\nimport type { SanitizedStripePluginConfig } from '../types.js'\n\nimport { LinkToDoc } from '../ui/LinkToDoc.js'\n\ninterface Args {\n  collection: CollectionConfig\n  pluginConfig: SanitizedStripePluginConfig\n  syncConfig: {\n    stripeResourceType: string\n  }\n}\n\nexport const getFields = ({ collection, pluginConfig, syncConfig }: Args): Field[] => {\n  const stripeIDField: Field = {\n    name: 'stripeID',\n    type: 'text',\n    admin: {\n      position: 'sidebar',\n      readOnly: true,\n    },\n    label: 'Stripe ID',\n    saveToJWT: true,\n  }\n\n  const skipSyncField: Field = {\n    name: 'skipSync',\n    type: 'checkbox',\n    admin: {\n      position: 'sidebar',\n      readOnly: true,\n    },\n    label: 'Skip Sync',\n  }\n\n  const docUrlField: Field = {\n    name: 'docUrl',\n    type: 'ui',\n    admin: {\n      components: {\n        Field: LinkToDoc,\n      },\n      custom: {\n        isTestKey: pluginConfig.isTestKey,\n        nameOfIDField: 'stripeID',\n        stripeResourceType: syncConfig.stripeResourceType,\n      },\n      position: 'sidebar',\n    },\n  }\n\n  const fields = [...collection.fields, stripeIDField, skipSyncField, docUrlField]\n\n  return fields\n}\n"],"names":["LinkToDoc","getFields","collection","pluginConfig","syncConfig","stripeIDField","name","type","admin","position","readOnly","label","saveToJWT","skipSyncField","docUrlField","components","Field","custom","isTestKey","nameOfIDField","stripeResourceType","fields"],"mappings":"AAIA,SAASA,SAAS,QAAQ,qBAAoB;AAU9C,OAAO,MAAMC,YAAY,CAAC,EAAEC,UAAU,EAAEC,YAAY,EAAEC,UAAU,EAAQ;IACtE,MAAMC,gBAAuB;QAC3BC,MAAM;QACNC,MAAM;QACNC,OAAO;YACLC,UAAU;YACVC,UAAU;QACZ;QACAC,OAAO;QACPC,WAAW;IACb;IAEA,MAAMC,gBAAuB;QAC3BP,MAAM;QACNC,MAAM;QACNC,OAAO;YACLC,UAAU;YACVC,UAAU;QACZ;QACAC,OAAO;IACT;IAEA,MAAMG,cAAqB;QACzBR,MAAM;QACNC,MAAM;QACNC,OAAO;YACLO,YAAY;gBACVC,OAAOhB;YACT;YACAiB,QAAQ;gBACNC,WAAWf,aAAae,SAAS;gBACjCC,eAAe;gBACfC,oBAAoBhB,WAAWgB,kBAAkB;YACnD;YACAX,UAAU;QACZ;IACF;IAEA,MAAMY,SAAS;WAAInB,WAAWmB,MAAM;QAAEhB;QAAeQ;QAAeC;KAAY;IAEhF,OAAOO;AACT,EAAC"}